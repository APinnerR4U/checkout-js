{"version":3,"sources":["webpack://checkout/./src/app/order/OrderSummaryPrice.tsx","webpack://checkout/./src/app/order/getItemsCount.ts","webpack://checkout/./src/app/order/OrderSummarySection.tsx","webpack://checkout/./src/app/order/OrderSummaryTotal.tsx","webpack://checkout/./src/app/ui/icon/IconChevronUp.tsx","webpack://checkout/./src/app/ui/icon/IconChevronDown.tsx","webpack://checkout/./src/app/order/mapFromCustom.tsx","webpack://checkout/./src/app/order/getOrderSummaryItemImage.tsx","webpack://checkout/./src/app/order/mapFromDigital.tsx","webpack://checkout/./src/app/order/mapFromGiftCertificate.tsx","webpack://checkout/./src/app/order/mapFromPhysical.tsx","webpack://checkout/./src/app/order/OrderSummaryItem.tsx","webpack://checkout/./src/app/order/OrderSummaryItems.tsx","webpack://checkout/./src/app/order/OrderSummaryDiscount.tsx","webpack://checkout/./src/app/order/OrderSummarySubtotals.tsx","webpack://checkout/./src/app/ui/toggle/Toggle.tsx","webpack://checkout/./src/app/ui/icon/IconGiftCertificate.tsx","webpack://checkout/./src/app/cart/EditLink.tsx","webpack://checkout/./src/app/cart/mapToCartSummaryProps.ts","webpack://checkout/./src/app/cart/mapToRedeemableProps.ts","webpack://checkout/./src/app/coupon/AppliedCoupon.tsx","webpack://checkout/./src/app/giftCertificate/AppliedGiftCertificate.tsx","webpack://checkout/./src/app/ui/icon/IconRemove.tsx","webpack://checkout/./src/app/cart/AppliedRedeemable.tsx","webpack://checkout/./src/app/cart/AppliedRedeemables.tsx","webpack://checkout/./src/app/cart/Redeemable.tsx","webpack://checkout/./src/app/cart/withRedeemable.tsx","webpack://checkout/./src/app/cart/mapToOrderSummarySubtotalsProps.ts"],"names":["OrderSummaryPrice","_this","_classCallCheck","this","state","highlight","previousAmount","handleTransitionEnd","node","done","addEventListener","_ref","target","setState","react__WEBPACK_IMPORTED_MODULE_10__","props","amount","_this$props","actionLabel","onActionTriggered","children","className","currencyCode","label","superscript","testId","zeroLabel","displayValue","getDisplayValue","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","data-test","react_transition_group__WEBPACK_IMPORTED_MODULE_11__","addEndListener","classNames","in","timeout","aria-live","classnames__WEBPACK_IMPORTED_MODULE_9___default","onClick","Object","_common_dom__WEBPACK_IMPORTED_MODULE_12__","href","isNumberValue","_currency__WEBPACK_IMPORTED_MODULE_13__","__webpack_exports__","getItemsCount","physicalItems","digitalItems","giftCertificates","customItems","concat","_toConsumableArray","reduce","total","item","quantity","length","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_locale__WEBPACK_IMPORTED_MODULE_1__","_locale__WEBPACK_IMPORTED_MODULE_2__","_OrderSummaryPrice__WEBPACK_IMPORTED_MODULE_3__","shopperCurrencyCode","storeCurrencyCode","orderAmount","currency","hasDifferentCurrency","id","undefined","data","toStoreCurrency","code","icon_IconChevronUp","withIconContainer","react_default","xmlns","width","height","viewBox","d","icon_IconChevronDown","order_mapFromCustom","extendedListPrice","name","getOrderSummaryItemImage","imageUrl","alt","src","getDigitalItemDescription","downloadPageUrl","content","rel","TranslatedString","order_mapFromDigital","amountAfterDiscount","extendedSalePrice","image","productOptions","options","map","option","value","order_mapFromGiftCertificate","IconGiftCertificate","order_mapFromPhysical","order_OrderSummaryItem","react","index","key","classnames_default","product-price--beforeDiscount","ShopperCurrency","OrderSummaryItems_OrderSummaryItems","OrderSummaryItems","_possibleConstructorReturn","_getPrototypeOf","call","handleToggle","isExpanded","Component","items","count","OrderSummaryItems_toConsumableArray","slice","sort","variantId","summaryItemProps","assign","renderActions","getLineItemCount","type","order_OrderSummaryDiscount","remaining","onRemoved","rest","_objectWithoutProperties","discountAmount","taxes","shippingAmount","subtotalAmount","handlingAmount","storeCreditAmount","coupons","onRemovedGiftCertificate","onRemovedCoupon","coupon","displayName","discountedAmount","giftCertificate","used","tax","Toggle","toggle","isOpen","openByDefault","react__WEBPACK_IMPORTED_MODULE_15__","_objectSpread","url","checkoutSelector","reselect__WEBPACK_IMPORTED_MODULE_7__","getCheckout","_","_ref2","checkout","grandTotal","mapToCartSummaryProps","context","config","getConfig","checkoutState","redeemableProps","_mapToRedeemableProps__WEBPACK_IMPORTED_MODULE_8__","shopperCurrency","cartUrl","links","cartLink","storeCurrency","mapToRedeemableProps","_common_utility__WEBPACK_IMPORTED_MODULE_0__","checkoutService","_context$checkoutStat","_context$checkoutStat2","getCoupons","getGiftCertificates","_context$checkoutStat3","statuses","isApplyingCoupon","isApplyingGiftCertificate","isRemovingCoupon","isRemovingGiftCertificate","_context$checkoutStat4","errors","getApplyCouponError","getApplyGiftCertificateError","getRemoveCouponError","getRemoveGiftCertificateError","appliedRedeemableError","applyCoupon","applyGiftCertificate","clearError","isApplyingRedeemable","removeCoupon","removeGiftCertificate","removedRedeemableError","shouldCollapseCouponCode","checkoutSettings","isCouponCodeCollapsed","coupon_AppliedCoupon","giftCertificate_AppliedGiftCertificate","icon_IconRemove","cart_AppliedRedeemable","isRemoving","onRemove","is-loading","disabled","AppliedRedeemables_AppliedCouponChecklistItem","_ref$isRemoving","handleRemove","AppliedRedeemables_AppliedGiftCertificateChecklistItem","_ref2$isRemoving","cart_AppliedRedeemables","_ref3","_ref3$coupons","_ref3$giftCertificate","_ref3$isRemovingCoupo","_ref3$isRemovingGiftC","_handleSubmit","Redeemable_RedeemableForm","_ref3$clearError","lodash","submitForm","handleKeyDown","memoize","setSubmitted","event","keyCode","preventDefault","handleSubmit","renderLabel","Label","hidden","htmlFor","renderInput","_ref4","field","Alert","Error","TextInput","onKeyDown","Button","variant","Secondary","isLoading","renderContent","_ref5","FormField","input","FormProvider","withLanguage","formik_esm","mapPropsToValues","redeemableCode","regeneratorRuntime","mark","_callee","_ref6","_ref7","_ref7$props","wrap","_context","prev","next","trim","t0","stop","_x","_x2","apply","arguments","validationSchema","_ref8","language","lib","required","translate","showAppliedRedeemables","formProps","withRedeemable","OriginalComponent","subtotal","consignments","handlingCostTotal","shippingCostBeforeDiscount","headerLink","cart","hasSelectedShippingOptions","lineItems","additionalLineItems","Redeemable"],"mappings":"ogCA0CMA,E,YAAN,SAAAA,IAAA,IAAAC,EAAA,O,4FAAAC,CAAAC,KAAAH,I,sCAQII,MAAQ,CACJC,WAAW,EACXC,eAAgB,GA0EZL,EAAAM,oBAAqE,SAACC,EAAMC,GAAQ,IAChFH,EAAmBL,EAAKG,MAAxBE,eAERE,EAAKE,iBAAiB,eAAgB,SAAAC,GAAeA,EAAZC,SACtBJ,IACXP,EAAKY,SAAS,CACVR,WAAW,EACXC,mBAEJG,QA7FhBR,E,sPAAgCa,EAAA,c,sDACIC,EAA+BX,GAC3D,MAAO,CACHC,UAAWU,EAAMC,SAAWZ,EAAME,eAClCA,eAAgBS,EAAMC,Y,kCASxB,IAAAC,EAYEd,KAAKY,MAVLC,EAFFC,EAEED,OACAE,EAHFD,EAGEC,YACAC,EAJFF,EAIEE,kBACAC,EALFH,EAKEG,SACAC,EANFJ,EAMEI,UACAC,EAPFL,EAOEK,aACAC,EARFN,EAQEM,MACAC,EATFP,EASEO,YACAC,EAVFR,EAUEQ,OACAC,EAXFT,EAWES,UAGIrB,EAAcF,KAAKC,MAAnBC,UACFsB,EA9Cd,SAAyBX,EAAwBU,GAG7C,OAAI,MAAOV,EAFa,KAMpBU,GAAwB,IAAXV,EACNU,EAGJV,EAmCkBY,CAAgBZ,EAAQU,GAE7C,OACIG,EAAAC,EAAAC,cAAA,OAAAC,YAAiBP,GACbI,EAAAC,EAAAC,cAACE,EAAA,cAAa,CACVC,eAAiB/B,KAAKI,oBACtB4B,WAAW,kBACXC,GAAK/B,EACLgC,QAAU,IAEVR,EAAAC,EAAAC,cAAA,OAAAO,YACc,SACVjB,UAAYkB,IACR,iBACA,mCACAlB,IAGJQ,EAAAC,EAAAC,cAAA,QAAMV,UAAU,wBACZQ,EAAAC,EAAAC,cAAA,QAAAC,YAAgB,oBACVT,E,IAAU,KAEdD,GAAgBO,EAAAC,EAAAC,cAAA,QAAMV,UAAU,+B,IAC3BC,E,KAAkB,KAEvBH,GAAqBD,GAAeW,EAAAC,EAAAC,cAAA,QAAMV,UAAU,uBAClDQ,EAAAC,EAAAC,cAAA,KACIS,QAAUC,OAAAC,EAAA,EAAAD,CAAetB,GAAkBa,YACjC,sBACVW,KAAK,KAEHzB,KAKdW,EAAAC,EAAAC,cAAA,QAAMV,UAAU,wBACZQ,EAAAC,EAAAC,cAAA,QAAAC,YAAgB,oBArE5C,SAAuBL,GACnB,MAA+B,iBAAjBA,EAqEgBiB,CAAcjB,GACZE,EAAAC,EAAAC,cAACc,EAAA,EAAe,CAAC7B,OAASW,IAC1BA,GAINH,GAAeK,EAAAC,EAAAC,cAAA,OAAAC,YAAe,gCAC1BR,IAIRJ,U,gCAsBX0B,EAAA,K,wdC3ID,SAAUC,EAAVpC,GAKA,IAJVqC,EAIUrC,EAJVqC,cACAC,EAGUtC,EAHVsC,aACAC,EAEUvC,EAFVuC,iBACAC,EACUxC,EADVwC,YAQA,MANwB,GAAAC,OAAAC,EACjBL,GADiBK,EAEjBJ,GAFiBI,EAGhBF,GAAe,KACrBG,OAAO,SAACC,EAAOC,GAAR,OAAiBD,EAASC,EAAKC,UAAU,GAEzBP,EAAiBQ,S,iCCd9C,IAAAC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAUeb,EAAA,EARgC,SAACnC,GAAD,IAC3CS,EAD2CT,EAC3CS,SAD2C,OAG3CyC,EAAA/B,EAAAC,cAAA,WAASV,UAAU,2DACbD,K,iCCNV,IAAAuC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAA,KAAAK,EAAAL,EAAA,KAqDed,EAAA,EAAAL,OAAAuB,EAAA,GAzC0E,SAACrD,GAKrF,IAJDuD,EAICvD,EAJDuD,oBACAC,EAGCxD,EAHDwD,kBACAC,EAECzD,EAFDyD,YACAC,EACC1D,EADD0D,SAGMC,EAAuBJ,IAAwBC,EAC/C5C,EAAQsC,EAAA/B,EAAAC,cAAC4B,EAAA,SAAQ,KACjBW,EACET,EAAA/B,EAAAC,cAACgC,EAAA,EAAgB,CAACQ,GAAG,8BACrBV,EAAA/B,EAAAC,cAACgC,EAAA,EAAgB,CAACQ,GAAG,oBAHf,KAAAnB,OAKHc,EALG,MAQd,OACIL,EAAA/B,EAAAC,cAAC4B,EAAA,SAAQ,KACLE,EAAA/B,EAAAC,cAACkC,EAAA,EAAiB,CACdjD,OAASoD,EACT/C,UAAU,wBACVE,MAAQA,EACRE,OAAO,aACPD,YAAc8C,EAAuB,SAAME,IAE7CF,GAAwBD,GAAYR,EAAA/B,EAAAC,cAAA,KAClCV,UAAU,4BAA2BW,YAC3B,8BAEV6B,EAAA/B,EAAAC,cAACgC,EAAA,EAAgB,CACbQ,GAAG,0BACHE,KAAO,CACHlB,MAAOc,EAASK,gBAAgBN,GAChCO,KAAMR,U,uKCnCfS,EAAAnC,OAAAoC,EAAA,GAN0B,kBACrCC,EAAAhD,EAAAC,cAAA,OAAKgD,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aACnEJ,EAAAhD,EAAAC,cAAA,QAAMoD,EAAE,sDCIDC,EAAA3C,OAAAoC,EAAA,GAN4B,kBACvCC,EAAAhD,EAAAC,cAAA,OAAKgD,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aACnEJ,EAAAhD,EAAAC,cAAA,QAAMoD,EAAE,oD,eCOD,IAAAE,EATf,SAAuB7B,GACnB,MAAO,CACHe,GAAIf,EAAKe,GACTd,SAAUD,EAAKC,SACfzC,OAAQwC,EAAK8B,kBACbC,KAAM/B,EAAK+B,OCNL,SAAUC,EAAyBhC,GAC7C,GAAKA,EAAKiC,SAIV,OAAOX,EAAAhD,EAAAC,cAAA,OACH2D,IAAMlC,EAAK+B,KAAIvD,YACL,kBACV2D,IAAMnC,EAAKiC,W,qVCenB,SAASG,EAA0BpC,GAC/B,OAAKA,EAAKqC,gBAOH,CACHpE,OAAQ,qCACRqE,QACIhB,EAAAhD,EAAAC,cAAA,KACIY,KAAOa,EAAKqC,gBACZE,IAAI,sBACJnF,OAAO,UAEPkE,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,4BAdtB,CACH9C,OAAQ,4BACRqE,QAAShB,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,4BAiB3B,IAAA0B,EAvCf,SAAwBzC,GACpB,MAAO,CACHe,GAAIf,EAAKe,GACTd,SAAUD,EAAKC,SACfzC,OAAQwC,EAAK8B,kBACbY,oBAAqB1C,EAAK2C,kBAC1BZ,KAAM/B,EAAK+B,KACXa,MAAOZ,EAAyBhC,GAChC6C,eAAgB,GAAFjD,OAAAC,GACNG,EAAK8C,SAAW,IAAIC,IAAI,SAAAC,GAAM,MAAK,CACnC/E,OAAQ,2BACRqE,QAAS,GAAF1C,OAAKoD,EAAOjB,KAAZ,KAAAnC,OAAoBoD,EAAOC,WAH5B,CAKVb,EAA0BpC,O,SCEvB,IAAAkD,EAhBf,SAAgClD,GAC5B,MAAO,CACHe,GAAIf,EAAKe,GACTd,SAAU,EACVzC,OAAQwC,EAAKxC,OACbuE,KAAM/B,EAAK+B,KACXa,MACItB,EAAAhD,EAAAC,cAAA,QACIV,UAAU,+BAA8BW,YAC9B,8BAEV8C,EAAAhD,EAAAC,cAAC4E,EAAA,EAAmB,SCErB,IAAAC,EAff,SAAyBpD,GACrB,MAAO,CACHe,GAAIf,EAAKe,GACTd,SAAUD,EAAKC,SACfzC,OAAQwC,EAAK8B,kBACbY,oBAAqB1C,EAAK2C,kBAC1BZ,KAAM/B,EAAK+B,KACXa,MAAOZ,EAAyBhC,GAChC6C,gBAAiB7C,EAAK8C,SAAW,IAAIC,IAAI,SAAAC,GAAM,MAAK,CAChD/E,OAAQ,2BACRqE,QAAS,GAAF1C,OAAKoD,EAAOjB,KAAZ,KAAAnC,OAAoBoD,EAAOC,Y,0BCgE/BI,EAAApE,OAAAqE,EAAA,MA3DoD,SAACnG,GAAD,IAC/DK,EAD+DL,EAC/DK,OACAkF,EAF+DvF,EAE/DuF,oBACAE,EAH+DzF,EAG/DyF,MACAb,EAJ+D5E,EAI/D4E,KACAc,EAL+D1F,EAK/D0F,eACA5C,EAN+D9C,EAM/D8C,SAN+D,OAQ/DqB,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,UAASW,YAAW,aAC/B8C,EAAAhD,EAAAC,cAAA,UAAQV,UAAU,iCACZ+E,GAGNtB,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,+BACXyD,EAAAhD,EAAAC,cAAA,MAAAC,YACc,0BACVX,UAAU,kDAERoC,E,MAAe8B,GAGrBT,EAAAhD,EAAAC,cAAA,MAAAC,YACc,4BACVX,UAAU,uDAEPgF,GAAkB,IAAIE,IAAI,SAACC,EAAQO,GAAT,OACzBjC,EAAAhD,EAAAC,cAAA,MACIiF,IAAMD,EACN1F,UAAU,iBAAgBW,YACdwE,EAAO/E,QAEjB+E,EAAOV,aAMzBhB,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,kCACXyD,EAAAhD,EAAAC,cAAA,OACIV,UAAY4F,IACR,gBACA,mCACA,CAAEC,gCAAiChB,GAAuBA,IAAwBlF,IACrFgB,YACS,2BAEV8C,EAAAhD,EAAAC,cAACoF,EAAA,EAAe,CAACnG,OAASA,KAG5BkF,GAAuBA,IAAwBlF,GAAU8D,EAAAhD,EAAAC,cAAA,OACvDV,UAAU,gBAAeW,YACf,0CAEV8C,EAAAhD,EAAAC,cAACoF,EAAA,EAAe,CAACnG,OAASkF,S,4nCC5D1C,IAUMkB,E,YACF,SAAAC,EAAYtG,GAA6B,IAAAd,EAAA,O,4FAAAC,CAAAC,KAAAkH,IACrCpH,EAAAqH,EAAAnH,KAAAoH,EAAAF,GAAAG,KAAArH,KAAMY,KA2FF0G,aAA2B,WAC/BxH,EAAKY,SAAS,CAAE6G,YAAazH,EAAKG,MAAMsH,cA1FxCzH,EAAKG,MAAQ,CACTsH,YAAY,GAJqBzH,E,sPADb6E,EAAAhD,EAAM6F,W,uCAS5B,IACMC,EAAUzH,KAAKY,MAAf6G,MACAF,EAAevH,KAAKC,MAApBsH,WAER,OAAQ5C,EAAAhD,EAAAC,cAAC+E,EAAA,SAAQ,KACbhC,EAAAhD,EAAAC,cAAA,MACIV,UAAU,wDAAuDW,YACvD,oBAEV8C,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CACbzB,GAAG,uBACHE,KAAO,CAAEoD,MAAOpF,OAAAM,EAAA,EAAAN,CAAcmF,OAItC9C,EAAAhD,EAAAC,cAAA,MAAIV,UAAU,cAAaiB,YAAW,U,IAClC,GAAAc,OAAA0E,EACOF,EAAM5E,cACJ+E,QACAC,KAAK,SAAAxE,GAAI,OAAIA,EAAKyE,YAClB1B,IAAIK,IAJbkB,EAKOF,EAAM1E,iBACJ6E,QACAxB,IAAIG,IAPboB,EAQOF,EAAM3E,aACJ8E,QACAC,KAAK,SAAAxE,GAAI,OAAIA,EAAKyE,YAClB1B,IAAIN,IAXb6B,GAYQF,EAAMzE,aAAe,IACpBoD,IAAIlB,KAER0C,MAAM,EAAGL,OAAalD,EAlDb,GAmDT+B,IAAI,SAAA2B,GAAgB,OACjBpD,EAAAhD,EAAAC,cAAA,MACIiF,IAAMkB,EAAiB3D,GACvBlD,UAAU,+BAEVyD,EAAAhD,EAAAC,cAAC8E,EAAgBpE,OAAA0F,OAAA,GAAMD,OAGhC,KAEL/H,KAAKiI,mB,sCAIM,IACTV,EAAevH,KAAKC,MAApBsH,WAER,KAAIvH,KAAKkI,mBAAqB,GAI9B,OACIvD,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,gBACXyD,EAAAhD,EAAAC,cAAA,UACIV,UAAU,yEACVmB,QAAUrC,KAAKsH,aACfa,KAAK,UAECZ,EACE5C,EAAAhD,EAAAC,cAAC+E,EAAA,SAAQ,KACLhC,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,yBACrBO,EAAAhD,EAAAC,cAAC6C,EAAa,OAElBE,EAAAhD,EAAAC,cAAC+E,EAAA,SAAQ,KACLhC,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,wBACrBO,EAAAhD,EAAAC,cAACqD,EAAe,W,yCAQpB,IACZwC,EAAUzH,KAAKY,MAAf6G,MAER,OAAQA,EAAMzE,aAAe,IAAIO,OAC7BkE,EAAM5E,cAAcU,OACpBkE,EAAM3E,aAAaS,OACnBkE,EAAM1E,iBAAiBQ,Y,gCAQpBZ,EAAA,K,yeC5Gf,IA8BeyF,EAAA9F,OAAAqE,EAAA,MA9B4D,SAACnG,GAAD,IACvEgE,EADuEhE,EACvEgE,KACA6D,EAFuE7H,EAEvE6H,UACAxH,EAHuEL,EAGvEK,OACAyH,EAJuE9H,EAIvE8H,UACGC,EALoEC,EAAAhI,EAAA,kDAOvEmE,EAAAhD,EAAAC,cAAC/B,EAAA,EAAiByC,OAAA0F,OAAA,GACTO,EACCD,GAAa,CACftH,kBAAmB,kBAAMwD,GAAQ8D,EAAU9D,IAC3CzD,YAAa4D,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,wBACpC,CACFvD,QAAU,GAAKA,GAAU,KAEvBwH,GAAaA,EAAY,GAAK1D,EAAAhD,EAAAC,cAAA,QAAAC,YAClB,uBACVX,UAAU,6D,cACCyD,EAAAhD,EAAAC,cAACoF,EAAA,EAAe,CAACnG,OAASwH,KAGvC7D,GAAQG,EAAAhD,EAAAC,cAAA,QACNV,UAAU,4DAA2DW,YAC3D,mBAER2C,MCiEC7B,EAAA,EAAAL,OAAAqE,EAAA,MAlF8D,SAACnG,GAWzE,IAVDiI,EAUCjI,EAVDiI,eACA1F,EASCvC,EATDuC,iBACA2F,EAQClI,EARDkI,MACAC,EAOCnI,EAPDmI,eACAC,EAMCpI,EANDoI,eACAC,EAKCrI,EALDqI,eACAC,EAICtI,EAJDsI,kBACAC,EAGCvI,EAHDuI,QACAC,EAECxI,EAFDwI,yBACAC,EACCzI,EADDyI,gBAEA,OAAQtE,EAAAhD,EAAAC,cAAC+E,EAAA,SAAQ,KACbhC,EAAAhD,EAAAC,cAAC/B,EAAA,EAAiB,CACdyB,OAAO,gBACPJ,UAAU,2BACVE,MAAQuD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,uBAC7BvD,OAAS+H,KAGVG,GAAW,IACT3C,IAAI,SAAC8C,EAAQtC,GAAT,OACDjC,EAAAhD,EAAAC,cAACwG,EAAoB,CACjBE,UAAYW,EACZpC,IAAMD,EACNtF,OAAO,cACPF,MAAQ8H,EAAOC,YACf3E,KAAO0E,EAAO1E,KACd3D,OAASqI,EAAOE,uBAIxBX,GAAkB9D,EAAAhD,EAAAC,cAACwG,EAAoB,CACvC9G,OAAO,gBACPF,MAAQuD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,uBAC7BvD,OAAS4H,KAGV1F,GAAoB,IAClBqD,IAAI,SAACiD,EAAiBzC,GAAlB,OACDjC,EAAAhD,EAAAC,cAACwG,EAAoB,CACjBE,UAAYU,EACZnC,IAAMD,EACNtF,OAAO,wBACPF,MAAQuD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,+BAC7BI,KAAO6E,EAAgB7E,KACvB3D,OAASwI,EAAgBC,KACzBjB,UAAYgB,EAAgBhB,cAIxC1D,EAAAhD,EAAAC,cAAC/B,EAAA,EAAiB,CACdyB,OAAO,gBACPF,MAAQuD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,uBAC7B7C,UAAYoD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,mBACjCvD,OAAS8H,MAGTE,GAAkBlE,EAAAhD,EAAAC,cAAC/B,EAAA,EAAiB,CACpCyB,OAAO,gBACPF,MAAQuD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,uBAC7BvD,OAASgI,KAGVH,GAAS,IACPtC,IAAI,SAACmD,EAAK3C,GAAN,OACDjC,EAAAhD,EAAAC,cAAC/B,EAAA,EAAiB,CACdgH,IAAMD,EACNtF,OAAO,aACPF,MAAQmI,EAAInE,KACZvE,OAAS0I,EAAI1I,aAIrBiI,GAAqBnE,EAAAhD,EAAAC,cAACwG,EAAoB,CAC1C9G,OAAO,oBACPF,MAAQuD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,2BAC7BvD,OAASiI,Q,8xCCvFAU,E,YACjB,SAAAA,EAAY5I,GAAkB,IAAAd,EAAA,O,4FAAAC,CAAAC,KAAAwJ,IAC1B1J,EAAAqH,EAAAnH,KAAAoH,EAAAoC,GAAAnC,KAAArH,KAAMY,KAgBF6I,OAAqB,WACzB3J,EAAKY,SAAS,CAAEgJ,QAAS5J,EAAKG,MAAMyJ,UAfpC5J,EAAKG,MAAQ,CAAEyJ,SAAU9I,EAAM+I,eAHL7J,E,sPADE8J,EAAA,c,uCAY5B,OAAO3I,EAFHjB,KAAKY,MADLK,U,2UAGY4I,CAAD,GACR7J,KAAKC,MADG,CAEXwJ,OAAQzJ,KAAKyJ,e,kECzBzB,IAAAjG,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAaeb,EAAA,EAXgC,kBAC3Ce,EAAA/B,EAAAC,cAAA,OACIgD,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,aAERrB,EAAA/B,EAAAC,cAAA,QAAMoD,EAAE,6a,iCCThB,IAAAxB,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAqBed,EAAA,EAAAL,OAAAkB,EAAA,MAZoC,SAAChD,GAAD,IAAGU,EAAHV,EAAGU,UAAW4I,EAAdtJ,EAAcsJ,IAAd,OAC/CpG,EAAA/B,EAAAC,cAAA,KACIV,UAAYA,GAAa,mBAAkBW,YACjC,iBACVW,KAAOsH,EACP1F,GAAG,iBACH3D,OAAO,QAEPiD,EAAA/B,EAAAC,cAACgC,EAAA,EAAgB,CAACQ,GAAG,8B,iyBCT7B,IAAM2F,EAAmBzH,OAAA0H,EAAA,eAAA1H,CACrB,SAAA9B,GAAA,OAAAA,EAAG8D,KAAmC2F,eACtC,SAACC,EAADC,GAAA,OAAAA,EAAyBrB,mBACzB,SAACsB,EAAUtB,GACP,GAAKsB,EAIL,OAAAP,EAAA,GACOO,EADP,CAEIC,WAAYD,EAASC,YAAcvB,GAAqB,OAKtD,SAAUwB,EACpBC,EACA3J,GAAuB,IAQjB4J,GAASC,EAFXF,EAHAG,cACIpG,KAAQmG,aAKVE,EAAkBrI,OAAAsI,EAAA,EAAAtI,CAAqBiI,GACvCH,EAAWL,EAAiBQ,EAAQG,cAAe9J,GAEzD,OAAKwJ,GAAaI,GAAWG,EAI7Bd,EAAA,CACIO,WACAS,gBAAiBL,EAAOK,gBACxBC,QAASN,EAAOO,MAAMC,SACtBC,cAAeT,EAAOtG,UACnByG,GARI,O,iCCrCflH,EAAAuB,EAAArC,EAAA,sBAAAuI,IAAA,IAAAC,EAAA1H,EAAA,KAIc,SAAUyH,EACpBX,GAA6B,IAGzBa,EAoBAb,EApBAa,gBAHyBC,EAuBzBd,EAnBAG,cAJyBY,EAAAD,EAKrB/G,KACImG,EANiBa,EAMjBb,UACAc,EAPiBD,EAOjBC,WACAC,EARiBF,EAQjBE,oBARiBC,EAAAJ,EAUrBK,SACIC,EAXiBF,EAWjBE,iBACAC,EAZiBH,EAYjBG,0BACAC,EAbiBJ,EAajBI,iBACAC,EAdiBL,EAcjBK,0BAdiBC,EAAAV,EAgBrBW,OACIC,EAjBiBF,EAiBjBE,oBACAC,EAlBiBH,EAkBjBG,6BACAC,EAnBiBJ,EAmBjBI,qBACAC,EApBiBL,EAoBjBK,8BAKN5B,EAASC,IAEf,OAAKD,EAIE,CACH6B,uBAAwBJ,KAAyBC,IACjDI,YAAalB,EAAgBkB,YAC7BC,qBAAsBnB,EAAgBmB,qBACtCC,WAAYpB,EAAgBoB,WAC5BzD,QAASwC,KAAgBJ,EAAA,EACzBpI,iBAAkByI,KAAyBL,EAAA,EAC3CsB,qBAAuBd,KAAsBC,IAC7CC,iBAAkBA,IAClBC,0BAA2BA,IAC3B7C,gBAAiBmC,EAAgBsB,aACjC1D,yBAA0BoC,EAAgBuB,sBAC1CC,uBAAyBT,KAA0BC,IACnDS,yBAA0BrC,EAAOsC,iBAAiBC,uBAhB3C,O,gOCDAC,G,MAAA1K,OAAAqE,EAAA,MAxB8C,SAACnG,GAAD,IAAG0I,EAAH1I,EAAG0I,OAAH,OACzDvE,EAAAhD,EAAAC,cAAA,OACIV,UAAU,oCAAmCW,YACnC,2BAEV8C,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,0BACZyD,EAAAhD,EAAAC,cAAA,QACIV,UAAU,oCAAmCW,YACnC,iBAERqH,EAAOC,aAGX,IAEFxE,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,4BAGzBO,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,4BAA2BW,YAAW,eAChDqH,EAAO1E,U,SCeNyI,EAAA3K,OAAAqE,EAAA,MAjCgE,SAACnG,GAAD,IAAG6I,EAAH7I,EAAG6I,gBAAH,OAC3E1E,EAAAhD,EAAAC,cAAA,OACIV,UAAU,oCAAmCW,YACnC,oCAEV8C,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,0BACZyD,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,oCAAmCW,YAAW,0BAC1D8C,EAAAhD,EAAAC,cAACoF,EAAA,EAAe,CAACnG,OAASwI,EAAgBC,QAG5C,IAEF3E,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,sCAGzBO,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,6BACVmI,EAAgBhB,UAAY,GAAK1D,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,wCAC/CyD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,+CAEnB,IAEFO,EAAAhD,EAAAC,cAAA,QAAAC,YAAgB,6BACZ8C,EAAAhD,EAAAC,cAACoF,EAAA,EAAe,CAACnG,OAASwI,EAAgBhB,cAIlD1D,EAAAhD,EAAAC,cAAA,QAAAC,YAAgB,wBACVwH,EAAgB7E,U,yBC3BnB0I,EAAA5K,OAAAoC,EAAA,GANuB,kBAClCC,EAAAhD,EAAAC,cAAA,OAAKgD,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aACnEJ,EAAAhD,EAAAC,cAAA,QAAMoD,EAAE,iPCuCDmI,EAlCsD,SAAC3M,GAAD,IACjES,EADiET,EACjES,SACAmM,EAFiE5M,EAEjE4M,WACAC,EAHiE7M,EAGjE6M,SAHiE,OAKjE1I,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,yBACXyD,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,qEACXyD,EAAAhD,EAAAC,cAAA,QAAMV,UAAU,aACZyD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,8BAI7BO,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,oCACXyD,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,cACTD,EACF0D,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,wCACXyD,EAAAhD,EAAAC,cAAA,UACIV,UAAY4F,IACR,oBACA,CAAEwG,aAAcF,IACnBvL,YACS,oBACVQ,QAAUgL,EACVE,SAAWH,EACXjF,KAAK,UAELxD,EAAAhD,EAAAC,cAACsL,EAAU,YCvB7BM,EAAoE,SAAChN,GAItE,IAHD0I,EAGC1I,EAHD0I,OACAZ,EAEC9H,EAFD8H,UAECmF,EAAAjN,EADD4M,kBACC,IAAAK,KACKC,EAAepL,OAAAqE,EAAA,YAAArE,CAAY,WAC7BgG,EAAUY,EAAO1E,OAClB,CACC0E,EACAZ,IAGJ,OACI3D,EAAAhD,EAAAC,cAAA,MAAIV,UAAU,6DACVyD,EAAAhD,EAAAC,cAACuL,EAAiB,CACdE,SAAWK,EACXN,WAAaA,GAEbzI,EAAAhD,EAAAC,cAACoL,EAAa,CAAC9D,OAASA,OAYlCyE,EAAsF,SAACxD,GAIxF,IAHDd,EAGCc,EAHDd,gBACAf,EAEC6B,EAFD7B,UAECsF,EAAAzD,EADDiD,kBACC,IAAAQ,KACKF,EAAepL,OAAAqE,EAAA,YAAArE,CAAY,WAC7BgG,EAAUe,EAAgB7E,OAC3B,CACC6E,EACAf,IAGJ,OACI3D,EAAAhD,EAAAC,cAAA,MAAIV,UAAU,6DACVyD,EAAAhD,EAAAC,cAACuL,EAAiB,CACdE,SAAWK,EACXN,WAAaA,GAEbzI,EAAAhD,EAAAC,cAACqL,EAAsB,CAAC5D,gBAAkBA,OAkD3CwE,EAAAvL,OAAAqE,EAAA,MAnCwD,SAACmH,GAOnE,IAAAC,EAAAD,EAND/E,eAMC,IAAAgF,EANS,GAMTA,EAAAC,EAAAF,EALD/K,wBAKC,IAAAiL,EALkB,GAKlBA,EAAAC,EAAAH,EAJDjC,wBAIC,IAAAoC,KAAAC,EAAAJ,EAHDhC,iCAGC,IAAAoC,KAFDjF,EAEC6E,EAFD7E,gBACAD,EACC8E,EADD9E,yBAEA,OAAKD,EAAQxF,QAAWR,EAAiBQ,OAKrCoB,EAAAhD,EAAAC,cAAA,MAAAC,YAAc,mBAAmBX,UAAU,mDACrC6H,EAAQ3C,IAAI,SAAA8C,GAAM,OAChBvE,EAAAhD,EAAAC,cAAC4L,EAA0B,CACvBtE,OAASA,EACTkE,WAAavB,EACbhF,IAAMqC,EAAO1E,KACb8D,UAAYW,MAIlBlG,EAAiBqD,IAAI,SAAAiD,GAAe,OAClC1E,EAAAhD,EAAAC,cAAC+L,EAAmC,CAChCtE,gBAAkBA,EAClB+D,WAAatB,EACbjF,IAAMwC,EAAgB7E,KACtB8D,UAAYU,OAnBjB,O,6eC7Cf,I,EA2HkGmF,EA7F5FC,EAAkG,SAACN,GAKpG,IAJDzB,EAICyB,EAJDzB,uBACAI,EAGCqB,EAHDrB,qBAGC4B,EAAAP,EAFDtB,kBAEC,IAAA6B,EAFYC,EAAA,KAEZD,EADDE,EACCT,EADDS,WAEMC,EAAgBlM,OAAAqE,EAAA,YAAArE,CAAYA,OAAAmM,EAAA,EAAAnM,CAAQ,SAACoM,GAAD,OACtC,SAACC,GACOtC,GACAG,EAAWH,GAKO,KAAlBsC,EAAMC,UACNF,GAAa,GACbH,IACAI,EAAME,qBAGd,CACAxC,EACAG,EACA+B,IAGEO,EAAexM,OAAAqE,EAAA,YAAArE,CAAYA,OAAAmM,EAAA,EAAAnM,CAAQ,SAACoM,GAAD,OACrC,WACIA,GAAa,GACbH,OAEJ,IAEEQ,EAAczM,OAAAqE,EAAA,YAAArE,CAAY,SAAC8C,GAAD,OAC5BT,EAAAhD,EAAAC,cAACoN,EAAA,EAAK,CAACC,QAAM,EAACC,QAAU9J,GACpBT,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,4BAE1B,IAEG+K,EAAc7M,OAAAqE,EAAA,YAAArE,CAAY,SAACoM,GAAD,OAAmD,SAAAU,GAAA,IAAGC,EAAHD,EAAGC,MAAH,OAC/E1K,EAAAhD,EAAAC,cAAC+E,EAAA,SAAQ,KACH0F,GAA0B1H,EAAAhD,EAAAC,cAAC0N,EAAA,EAAK,CAACnH,KAAOmH,EAAA,EAAUC,OACJ,mBAA1ClD,EAAuBL,OAAO,GAAGxH,KAC/BG,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,qCACrBO,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,mCAI7BO,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,sBACXyD,EAAAhD,EAAAC,cAAC4N,EAAA,EAASlN,OAAA0F,OAAA,GACDqH,EAAK,CACVI,UAAYjB,EAAcE,GAC1BxN,UAAU,0CACVI,OAAO,2BAGXqD,EAAAhD,EAAAC,cAAC8N,EAAA,EAAM,CACHxO,UAAU,qCACVI,OAAO,yBACP8C,GAAG,wBACHuL,QAAUD,EAAA,EAAcE,UACxBC,UAAYpD,EACZpK,QAAUyM,EAAaJ,IAEvB/J,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,iCAIlC,CACCiI,EACAmC,EACAM,EACArC,IAGEqD,EAAgBxN,OAAAqE,EAAA,YAAArE,CAAYA,OAAAmM,EAAA,EAAAnM,CAAQ,SAAAyN,GAAA,IAAGrB,EAAHqB,EAAGrB,aAAH,OACtC/J,EAAAhD,EAAAC,cAACoO,EAAA,EAAS,CACN5K,KAAK,iBACLhE,MAAQ2N,EACRkB,MAAQd,EAAYT,OAExB,CACAK,EACAI,IAGJ,OAAOxK,EAAAhD,EAAAC,cAAA,YAAUV,UAAU,kCACvByD,EAAAhD,EAAAC,cAACsO,EAAA,EAAY,KACPJ,KAKCnN,EAAA,EAAAL,OAAA6N,EAAA,GAAa7N,OAAA8N,EAAA,EAAA9N,CAAsE,CAC9F+N,iBAD8F,WAE1F,MAAO,CACHC,eAAgB,KAIlBxB,c,EAPwFyB,mBAAAC,KAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAL,EAAAM,EAAAtE,EAAAC,EAAAC,EAAAhI,EAAA,OAAA+L,mBAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAOzEV,EAPyEI,EAOzEJ,eAPyEM,EAAAD,EAOrD/P,MAAS0L,EAP4CsE,EAO5CtE,YAAaC,EAP+BqE,EAO/BrE,qBAAsBC,EAPSoE,EAOTpE,WAC3EhI,EAAO8L,EAAeW,OAR8DH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAWhFzE,EAAqB/H,GAX2D,OAAAsM,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAI,GAAAJ,EAAA,SAatFtE,EAAWsE,EAADI,IACV5E,EAAY9H,GAd0E,yBAAAsM,EAAAK,SAAAV,EAAA,gBAAAtC,E,4KAAA,SAAAiD,EAAAC,GAAA,OAAAlD,EAAAmD,MAAAtR,KAAAuR,aAkB9FC,iBAlB8F,SAAAC,GAkB5B,IAA/CC,EAA+CD,EAA/CC,SACf,OAAOpP,OAAAqP,EAAA,OAAArP,CAAO,CACVgO,eAAgBhO,OAAAqP,EAAA,OAAArP,GACXsP,SAASF,EAASG,UAAU,uCArBjBvP,CAwBzBA,OAAAqE,EAAA,KAAArE,CAnJ4G,SAAC9B,GAAD,IAC3GqM,EAD2GrM,EAC3GqM,yBACAiF,EAF2GtR,EAE3GsR,uBACGC,EAHwGvJ,EAAAhI,EAAA,8DAK3GmE,EAAAhD,EAAAC,cAAC4H,EAAA,EAAM,CAACG,eAAiBkD,GACnB,SAAA1C,GAAA,IAAGV,EAAHU,EAAGV,OAAQC,EAAXS,EAAWT,OAAX,OACE/E,EAAAhD,EAAAC,cAAC+E,EAAA,SAAQ,KACHkG,GAA4BlI,EAAAhD,EAAAC,cAAA,KAC1BV,UAAU,mBAAkBW,YAClB,mBACVW,KAAK,IACLH,QAAUC,OAAAuM,EAAA,EAAAvM,CAAemH,IAEzB9E,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,+BAEtByI,GAA4BlI,EAAAhD,EAAAC,cAAA,OAAKV,UAAU,oBAC1CyD,EAAAhD,EAAAC,cAACiE,EAAA,EAAgB,CAACzB,GAAG,+BAEtBsF,IAAWmD,IAA6BlI,EAAAhD,EAAAC,cAAA,OAAAC,YAAe,0BACtD8C,EAAAhD,EAAAC,cAACwM,EAAc9L,OAAA0F,OAAA,GAAM+J,IACnBD,GACEnN,EAAAhD,EAAAC,cAACiM,EAAkBvL,OAAA0F,OAAA,GAAM+J,a,qpCCvDnC,SAAUC,EACpBC,GAMA,OAAO,SAAArR,GAAQ,ICVLJ,EACV0R,EACQzJ,EACR1F,EACAoP,EACAC,EACAC,EACAtJ,EACAL,EDIQ0B,EAQAxJ,EARAwJ,SACAa,EAOArK,EAPAqK,cACAJ,EAMAjK,EANAiK,gBACAyH,EAKA1R,EALA0R,WACArJ,EAIArI,EAJAqI,gBACAD,EAGApI,EAHAoI,yBACAF,EAEAlI,EAFAkI,kBACG6B,EATInC,EAUP5H,EAVO,8HAYX,OACI+D,EAAAhD,EAAAC,cAACqQ,EAAiB3P,OAAA0F,OAAA,ICtB1BkK,GADU1R,EDwBuC4J,GCvBjD8H,SACQzJ,EAODjI,EAPP+R,KAAQ9J,eACR1F,EAMOvC,EANPuC,iBACAoP,EAKO3R,EALP2R,aACAC,EAIO5R,EAJP4R,kBACAC,EAGO7R,EAHP6R,2BACAtJ,EAEOvI,EAFPuI,QACAL,EACOlI,EADPkI,MAEO,CACHE,eAAgBsJ,EAChBzJ,iBACA1F,mBACA4F,eAAgBrG,OAAAkQ,EAAA,EAAAlQ,CAA2B6P,GACvCE,OACAhO,EACJwE,eAAgBuJ,EAChBrJ,UACAL,UDKsD,CAC9CO,gBAAkBA,EAClBD,yBAA2BA,EAC3BsJ,WAAaA,EACbxJ,kBAAoBA,EACpB2J,UAAYrI,EAASmI,KAAKE,UAC1BrP,MAAQgH,EAASC,WACjBY,cAAgBA,EAChBJ,gBAAkBA,EAClB6H,oBACI/N,EAAAhD,EAAAC,cAAC+Q,EAAA,EAAUrQ,OAAA0F,OAAA,GAAA6B,EAAA,GACJc,EADI,CAEP1B,kBACAD,mC","file":"cart-summary~cart-summary-drawer-cc5d01f8-50ec4fe8.js","sourcesContent":["import classNames from 'classnames';\nimport React, { Component, ReactNode } from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nimport { preventDefault } from '../common/dom';\nimport { ShopperCurrency } from '../currency';\n\nexport interface OrderSummaryPriceProps {\n    label: ReactNode;\n    amount?: number | null;\n    zeroLabel?: ReactNode;\n    className?: string;\n    testId?: string;\n    currencyCode?: string;\n    superscript?: string;\n    actionLabel?: ReactNode;\n    onActionTriggered?(): void;\n}\n\nexport interface OrderSummaryPriceState {\n    highlight: boolean;\n    previousAmount?: number;\n}\n\nfunction getDisplayValue(amount?: number | null, zeroLabel?: ReactNode): ReactNode | number {\n    const notYetSetSymbol = '--';\n\n    if (typeof amount === 'undefined' || amount === null) {\n        return notYetSetSymbol;\n    }\n\n    if (zeroLabel && amount === 0) {\n        return zeroLabel;\n    }\n\n    return amount;\n}\n\nfunction isNumberValue(displayValue: number | ReactNode): displayValue is number {\n    return typeof displayValue === 'number';\n}\n\nclass OrderSummaryPrice extends Component<OrderSummaryPriceProps, OrderSummaryPriceState> {\n    static getDerivedStateFromProps(props: OrderSummaryPriceProps, state: OrderSummaryPriceState) {\n        return {\n            highlight: props.amount !== state.previousAmount,\n            previousAmount: props.amount,\n        };\n    }\n\n    state = {\n        highlight: false,\n        previousAmount: 0,\n    };\n\n    render(): ReactNode {\n        const {\n            amount,\n            actionLabel,\n            onActionTriggered,\n            children,\n            className,\n            currencyCode,\n            label,\n            superscript,\n            testId,\n            zeroLabel,\n        } = this.props;\n\n        const { highlight } = this.state;\n        const displayValue = getDisplayValue(amount, zeroLabel);\n\n        return (\n            <div data-test={ testId }>\n                <CSSTransition\n                    addEndListener={ this.handleTransitionEnd }\n                    classNames=\"changeHighlight\"\n                    in={ highlight }\n                    timeout={ {} }\n                >\n                    <div\n                        aria-live=\"polite\"\n                        className={ classNames(\n                            'cart-priceItem',\n                            'optimizedCheckout-contentPrimary',\n                            className\n                        ) }\n                    >\n                        <span className=\"cart-priceItem-label\">\n                            <span data-test=\"cart-price-label\">\n                                { label } { ' ' }\n                            </span>\n                            { currencyCode && <span className=\"cart-priceItem-currencyCode\">\n                                ({ currencyCode }) { ' ' }\n                            </span> }\n                            { onActionTriggered && actionLabel && <span className=\"cart-priceItem-link\">\n                                <a\n                                    onClick={ preventDefault(onActionTriggered) }\n                                    data-test=\"cart-price-callback\"\n                                    href=\"#\"\n                                >\n                                    { actionLabel }\n                                </a>\n                            </span> }\n                        </span>\n\n                        <span className=\"cart-priceItem-value\">\n                            <span data-test=\"cart-price-value\">\n                                { isNumberValue(displayValue) ?\n                                    <ShopperCurrency amount={ displayValue } /> :\n                                    displayValue\n                                }\n                            </span>\n\n                            { superscript && <sup data-test=\"cart-price-value-superscript\">\n                                { superscript }\n                            </sup> }\n                        </span>\n\n                        { children }\n                    </div>\n                </CSSTransition>\n            </div>\n        );\n    }\n\n    private handleTransitionEnd: (node: HTMLElement, done: () => void) => void = (node, done) => {\n        const { previousAmount } = this.state;\n\n        node.addEventListener('animationend', ({ target }) => {\n            if (target === node) {\n                this.setState({\n                    highlight: false,\n                    previousAmount,\n                });\n                done();\n            }\n        });\n    };\n}\n\nexport default OrderSummaryPrice;\n","import { LineItemMap } from '@bigcommerce/checkout-sdk';\n\nexport default function getItemsCount({\n    physicalItems,\n    digitalItems,\n    giftCertificates,\n    customItems,\n}: LineItemMap): number {\n    const totalItemsCount = [\n        ...physicalItems,\n        ...digitalItems,\n        ...(customItems || []),\n    ].reduce((total, item) => total += item.quantity, 0);\n\n    return totalItemsCount + giftCertificates.length;\n}\n","import React, { FunctionComponent } from 'react';\n\nconst OrderSummarySection: FunctionComponent = ({\n    children,\n}) => (\n    <section className=\"cart-section optimizedCheckout-orderSummary-cartSection\">\n        { children }\n    </section>\n);\n\nexport default OrderSummarySection;\n","import React, { Fragment, FunctionComponent } from 'react';\n\nimport { withCurrency, TranslatedString, WithCurrencyProps } from '../locale';\n\nimport OrderSummaryPrice from './OrderSummaryPrice';\n\nexport interface OrderSummaryTotalProps {\n    orderAmount: number;\n    shopperCurrencyCode: string;\n    storeCurrencyCode: string;\n}\n\nconst OrderSummaryTotal: FunctionComponent<OrderSummaryTotalProps & WithCurrencyProps> = ({\n    shopperCurrencyCode,\n    storeCurrencyCode,\n    orderAmount,\n    currency,\n}) => {\n\n    const hasDifferentCurrency = shopperCurrencyCode !== storeCurrencyCode;\n    const label = <Fragment>\n        { hasDifferentCurrency ?\n            <TranslatedString id=\"cart.estimated_total_text\" /> :\n            <TranslatedString id=\"cart.total_text\" />\n        }\n        { ` (${shopperCurrencyCode})` }\n    </Fragment>;\n\n    return (\n        <Fragment>\n            <OrderSummaryPrice\n                amount={ orderAmount }\n                className=\"cart-priceItem--total\"\n                label={ label }\n                testId=\"cart-total\"\n                superscript={ hasDifferentCurrency ? '*' : undefined }\n            />\n            { hasDifferentCurrency && currency && <p\n                className=\"cart-priceItem--totalNote\"\n                data-test=\"cart-price-item-total-note\"\n            >\n                <TranslatedString\n                    id=\"cart.billed_amount_text\"\n                    data={ {\n                        total: currency.toStoreCurrency(orderAmount),\n                        code: storeCurrencyCode,\n                    } }\n                />\n            </p> }\n        </Fragment>\n    );\n};\n\nexport default withCurrency(OrderSummaryTotal);\n","import React, { FunctionComponent } from 'react';\n\nimport withIconContainer from './withIconContainer';\n\nconst IconChevronUp: FunctionComponent = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"></path>\n    </svg>\n);\n\nexport default withIconContainer(IconChevronUp);\n","import React, { FunctionComponent } from 'react';\n\nimport withIconContainer from './withIconContainer';\n\nconst IconChevronDown: FunctionComponent = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"></path>\n    </svg>\n);\n\nexport default withIconContainer(IconChevronDown);\n","import { CustomItem } from '@bigcommerce/checkout-sdk';\n\nimport { OrderSummaryItemProps } from './OrderSummaryItem';\n\nfunction mapFromCustom(item: CustomItem): OrderSummaryItemProps {\n    return {\n        id: item.id,\n        quantity: item.quantity,\n        amount: item.extendedListPrice,\n        name: item.name,\n    };\n}\n\nexport default mapFromCustom;\n","import { DigitalItem, PhysicalItem } from '@bigcommerce/checkout-sdk';\nimport React, { ReactNode } from 'react';\n\nexport default function getOrderSummaryItemImage(item: DigitalItem | PhysicalItem): ReactNode {\n    if (!item.imageUrl) {\n        return;\n    }\n\n    return <img\n        alt={ item.name }\n        data-test=\"cart-item-image\"\n        src={ item.imageUrl }\n    />;\n}\n","import { DigitalItem } from '@bigcommerce/checkout-sdk';\nimport React from 'react';\n\nimport { TranslatedString } from '../locale';\n\nimport getOrderSummaryItemImage from './getOrderSummaryItemImage';\nimport { OrderSummaryItemOption, OrderSummaryItemProps } from './OrderSummaryItem';\n\nfunction mapFromDigital(item: DigitalItem): OrderSummaryItemProps {\n    return {\n        id: item.id,\n        quantity: item.quantity,\n        amount: item.extendedListPrice,\n        amountAfterDiscount: item.extendedSalePrice,\n        name: item.name,\n        image: getOrderSummaryItemImage(item),\n        productOptions: [\n            ...(item.options || []).map(option => ({\n                testId: 'cart-item-product-option',\n                content: `${option.name} ${option.value}`,\n            })),\n            getDigitalItemDescription(item),\n        ],\n    };\n}\n\nfunction getDigitalItemDescription(item: DigitalItem): OrderSummaryItemOption {\n    if (!item.downloadPageUrl) {\n        return {\n            testId: 'cart-item-digital-product',\n            content: <TranslatedString id=\"cart.digital_item_text\" />,\n        };\n    }\n\n    return {\n        testId: 'cart-item-digital-product-download',\n        content:\n            <a\n                href={ item.downloadPageUrl }\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n            >\n                <TranslatedString id=\"cart.downloads_action\" />\n            </a>,\n    };\n}\n\nexport default mapFromDigital;\n","import { GiftCertificateItem } from '@bigcommerce/checkout-sdk';\nimport React from 'react';\n\nimport { IconGiftCertificate } from '../ui/icon';\n\nimport { OrderSummaryItemProps } from './OrderSummaryItem';\n\nfunction mapFromGiftCertificate(item: GiftCertificateItem): OrderSummaryItemProps {\n    return {\n        id: item.id,\n        quantity: 1,\n        amount: item.amount,\n        name: item.name,\n        image:\n            <span\n                className=\"productImage-giftCertificate\"\n                data-test=\"cart-item-gift-certificate\"\n            >\n                <IconGiftCertificate />\n            </span>,\n    };\n}\n\nexport default mapFromGiftCertificate;\n","import { PhysicalItem } from '@bigcommerce/checkout-sdk';\n\nimport getOrderSummaryItemImage from './getOrderSummaryItemImage';\nimport { OrderSummaryItemProps } from './OrderSummaryItem';\n\nfunction mapFromPhysical(item: PhysicalItem): OrderSummaryItemProps {\n    return {\n        id: item.id,\n        quantity: item.quantity,\n        amount: item.extendedListPrice,\n        amountAfterDiscount: item.extendedSalePrice,\n        name: item.name,\n        image: getOrderSummaryItemImage(item),\n        productOptions: (item.options || []).map(option => ({\n            testId: 'cart-item-product-option',\n            content: `${option.name} ${option.value}`,\n        })),\n    };\n}\n\nexport default mapFromPhysical;\n","import classNames from 'classnames';\nimport React, { memo, FunctionComponent, ReactNode } from 'react';\n\nimport { ShopperCurrency } from '../currency';\n\nexport interface OrderSummaryItemProps {\n    id: string | number;\n    amount: number;\n    quantity: number;\n    name: string;\n    amountAfterDiscount?: number;\n    image?: ReactNode;\n    productOptions?: OrderSummaryItemOption[];\n}\n\nexport interface OrderSummaryItemOption {\n    testId: string;\n    content: ReactNode;\n}\n\nconst OrderSummaryItem: FunctionComponent<OrderSummaryItemProps> = ({\n    amount,\n    amountAfterDiscount,\n    image,\n    name,\n    productOptions,\n    quantity,\n}) => (\n    <div className=\"product\" data-test=\"cart-item\">\n        <figure className=\"product-column product-figure\">\n            { image }\n        </figure>\n\n        <div className=\"product-column product-body\">\n            <h5\n                data-test=\"cart-item-product-title\"\n                className=\"product-title optimizedCheckout-contentPrimary\"\n            >\n                { quantity } x { name }\n            </h5>\n\n            <ul\n                data-test=\"cart-item-product-options\"\n                className=\"product-options optimizedCheckout-contentSecondary\"\n            >\n                { (productOptions || []).map((option, index) =>\n                    <li\n                        key={ index }\n                        className=\"product-option\"\n                        data-test={ option.testId }\n                    >\n                        { option.content }\n                    </li>\n                ) }\n            </ul>\n        </div>\n\n        <div className=\"product-column product-actions\">\n            <div\n                className={ classNames(\n                    'product-price',\n                    'optimizedCheckout-contentPrimary',\n                    { 'product-price--beforeDiscount': amountAfterDiscount && amountAfterDiscount !== amount }\n                ) }\n                data-test=\"cart-item-product-price\"\n            >\n                <ShopperCurrency amount={ amount } />\n            </div>\n\n            { amountAfterDiscount && amountAfterDiscount !== amount && <div\n                className=\"product-price\"\n                data-test=\"cart-item-product-price--afterDiscount\"\n            >\n                <ShopperCurrency amount={ amountAfterDiscount } />\n            </div> }\n        </div>\n    </div>\n);\n\nexport default memo(OrderSummaryItem);\n","import { LineItemMap } from '@bigcommerce/checkout-sdk';\nimport React, { Fragment, ReactNode } from 'react';\n\nimport { TranslatedString } from '../locale';\nimport { IconChevronDown, IconChevronUp } from '../ui/icon';\n\nimport getItemsCount from './getItemsCount';\nimport mapFromCustom from './mapFromCustom';\nimport mapFromDigital from './mapFromDigital';\nimport mapFromGiftCertificate from './mapFromGiftCertificate';\nimport mapFromPhysical from './mapFromPhysical';\nimport OrderSummaryItem from './OrderSummaryItem';\n\nconst COLLAPSED_ITEMS_LIMIT = 4;\n\nexport interface OrderSummaryItemsProps {\n    items: LineItemMap;\n}\n\ninterface OrderSummaryItemsState {\n    isExpanded: boolean;\n}\n\nclass OrderSummaryItems extends React.Component<OrderSummaryItemsProps, OrderSummaryItemsState> {\n    constructor(props: OrderSummaryItemsProps) {\n        super(props);\n\n        this.state = {\n            isExpanded: false,\n        };\n    }\n\n    render(): ReactNode {\n        const { items } = this.props;\n        const { isExpanded } = this.state;\n\n        return (<Fragment>\n            <h3\n                className=\"cart-section-heading optimizedCheckout-contentPrimary\"\n                data-test=\"cart-count-total\"\n            >\n                <TranslatedString\n                    id=\"cart.item_count_text\"\n                    data={ { count: getItemsCount(items) }}\n                />\n            </h3>\n\n            <ul className=\"productList\" aria-live=\"polite\"> {\n                [\n                    ...items.physicalItems\n                        .slice()\n                        .sort(item => item.variantId)\n                        .map(mapFromPhysical),\n                    ...items.giftCertificates\n                        .slice()\n                        .map(mapFromGiftCertificate),\n                    ...items.digitalItems\n                        .slice()\n                        .sort(item => item.variantId)\n                        .map(mapFromDigital),\n                    ...(items.customItems || [])\n                        .map(mapFromCustom),\n                ]\n                    .slice(0, isExpanded ? undefined : COLLAPSED_ITEMS_LIMIT)\n                    .map(summaryItemProps =>\n                        <li\n                            key={ summaryItemProps.id }\n                            className=\"productList-item is-visible\"\n                        >\n                            <OrderSummaryItem { ...summaryItemProps } />\n                        </li>\n                    )\n            } </ul>\n\n            { this.renderActions() }\n        </Fragment>);\n    }\n\n    private renderActions(): ReactNode {\n        const { isExpanded } = this.state;\n\n        if (this.getLineItemCount() < 5) {\n            return;\n        }\n\n        return (\n            <div className=\"cart-actions\">\n                <button\n                    className=\"button button--tertiary button--tiny optimizedCheckout-buttonSecondary\"\n                    onClick={ this.handleToggle }\n                    type=\"button\"\n                >\n                        { isExpanded ?\n                            <Fragment>\n                                <TranslatedString id=\"cart.see_less_action\" />\n                                <IconChevronUp />\n                            </Fragment> :\n                            <Fragment>\n                                <TranslatedString id=\"cart.see_all_action\" />\n                                <IconChevronDown />\n                            </Fragment>\n                        }\n                </button>\n            </div>\n        );\n    }\n\n    private getLineItemCount(): number {\n        const { items } = this.props;\n\n        return (items.customItems || []).length +\n            items.physicalItems.length +\n            items.digitalItems.length +\n            items.giftCertificates.length;\n    }\n\n    private handleToggle: () => void = () => {\n        this.setState({ isExpanded: !this.state.isExpanded });\n    };\n}\n\nexport default OrderSummaryItems;\n","import React, { memo, FunctionComponent } from 'react';\n\nimport { ShopperCurrency } from '../currency';\nimport { TranslatedString } from '../locale';\n\nimport OrderSummaryPrice, { OrderSummaryPriceProps } from './OrderSummaryPrice';\n\nexport interface OrderSummaryDiscountProps extends OrderSummaryPriceProps {\n    remaining?: number;\n    code?: string;\n    onRemoved?(code: string): void;\n}\n\nconst OrderSummaryDiscount: FunctionComponent<OrderSummaryDiscountProps> = ({\n    code,\n    remaining,\n    amount,\n    onRemoved,\n    ...rest\n}) => (\n    <OrderSummaryPrice\n        { ...rest }\n        { ...(onRemoved && {\n            onActionTriggered: () => code && onRemoved(code),\n            actionLabel: <TranslatedString id=\"cart.remove_action\" />,\n        }) }\n        amount={ -1 * (amount || 0) }\n    >\n        { remaining && remaining > 0 && <span\n            data-test=\"cart-price-remaining\"\n            className=\"cart-priceItem-postFix optimizedCheckout-contentSecondary\">\n            Remaining: <ShopperCurrency amount={ remaining } />\n        </span> }\n\n        { code && <span\n            className=\"cart-priceItem-postFix optimizedCheckout-contentSecondary\"\n            data-test=\"cart-price-code\"\n        >\n            { code }\n        </span> }\n    </OrderSummaryPrice>\n);\n\nexport default memo(OrderSummaryDiscount);\n","import { Coupon, GiftCertificate, Tax } from '@bigcommerce/checkout-sdk';\nimport React, { memo, Fragment, FunctionComponent } from 'react';\n\nimport { TranslatedString } from '../locale';\n\nimport OrderSummaryDiscount from './OrderSummaryDiscount';\nimport OrderSummaryPrice from './OrderSummaryPrice';\n\nexport interface OrderSummarySubtotalsProps {\n    coupons: Coupon[];\n    giftCertificates?: GiftCertificate[];\n    discountAmount?: number;\n    taxes?: Tax[];\n    shippingAmount?: number;\n    handlingAmount?: number;\n    storeCreditAmount?: number;\n    subtotalAmount: number;\n    onRemovedGiftCertificate?(code: string): void;\n    onRemovedCoupon?(code: string): void;\n}\n\nconst OrderSummarySubtotals: FunctionComponent<OrderSummarySubtotalsProps> = ({\n    discountAmount,\n    giftCertificates,\n    taxes,\n    shippingAmount,\n    subtotalAmount,\n    handlingAmount,\n    storeCreditAmount,\n    coupons,\n    onRemovedGiftCertificate,\n    onRemovedCoupon,\n}) => {\n    return (<Fragment>\n        <OrderSummaryPrice\n            testId=\"cart-subtotal\"\n            className=\"cart-priceItem--subtotal\"\n            label={ <TranslatedString id=\"cart.subtotal_text\"/> }\n            amount={ subtotalAmount }\n        />\n\n        { (coupons || [])\n            .map((coupon, index) =>\n                <OrderSummaryDiscount\n                    onRemoved={ onRemovedCoupon }\n                    key={ index }\n                    testId=\"cart-coupon\"\n                    label={ coupon.displayName }\n                    code={ coupon.code }\n                    amount={ coupon.discountedAmount }\n                />\n        ) }\n\n        { !!discountAmount && <OrderSummaryDiscount\n            testId=\"cart-discount\"\n            label={ <TranslatedString id=\"cart.discount_text\"/> }\n            amount={ discountAmount }\n        /> }\n\n        { (giftCertificates || [])\n            .map((giftCertificate, index) =>\n                <OrderSummaryDiscount\n                    onRemoved={ onRemovedGiftCertificate }\n                    key={ index }\n                    testId=\"cart-gift-certificate\"\n                    label={ <TranslatedString id=\"cart.gift_certificate_text\"/> }\n                    code={ giftCertificate.code }\n                    amount={ giftCertificate.used }\n                    remaining={ giftCertificate.remaining }\n                />\n        ) }\n\n        <OrderSummaryPrice\n            testId=\"cart-shipping\"\n            label={ <TranslatedString id=\"cart.shipping_text\"/> }\n            zeroLabel={ <TranslatedString id=\"cart.free_text\"/> }\n            amount={ shippingAmount }\n        />\n\n        { !!handlingAmount && <OrderSummaryPrice\n            testId=\"cart-handling\"\n            label={ <TranslatedString id=\"cart.handling_text\"/> }\n            amount={ handlingAmount }\n        /> }\n\n        { (taxes || [])\n            .map((tax, index) =>\n                <OrderSummaryPrice\n                    key={ index }\n                    testId=\"cart-taxes\"\n                    label={ tax.name }\n                    amount={ tax.amount }\n                />\n         )}\n\n        { !!storeCreditAmount && <OrderSummaryDiscount\n            testId=\"cart-store-credit\"\n            label={ <TranslatedString id=\"cart.store_credit_text\"/> }\n            amount={ storeCreditAmount }\n        /> }\n    </Fragment>);\n};\n\nexport default memo(OrderSummarySubtotals);\n","import { Component, ReactNode } from 'react';\n\nexport interface ToggleProps {\n    openByDefault?: boolean;\n    children(props: any): ReactNode;\n}\n\nexport interface ToggleState {\n    isOpen: boolean;\n}\n\nexport default class Toggle extends Component<ToggleProps, ToggleState> {\n    constructor(props: ToggleProps) {\n        super(props);\n\n        this.state = { isOpen: !!props.openByDefault };\n    }\n\n    render(): ReactNode {\n        const {\n            children,\n        } = this.props;\n\n        return children({\n            ...this.state,\n            toggle: this.toggle,\n        });\n    }\n\n    private toggle: () => void = () => {\n        this.setState({ isOpen: !this.state.isOpen });\n    };\n}\n","import React, { FunctionComponent } from 'react';\n\nconst IconGiftCertificate: FunctionComponent = () => (\n    <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n    >\n        <path d=\"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z\" />\n    </svg>\n);\n\nexport default IconGiftCertificate;\n","import React, { memo, FunctionComponent } from 'react';\n\nimport { TranslatedString } from '../locale';\n\nexport interface EditLinkProps {\n    className?: string;\n    url: string;\n}\n\nconst EditLink: FunctionComponent<EditLinkProps> = ({ className, url }) => (\n    <a\n        className={ className || 'cart-header-link' }\n        data-test=\"cart-edit-link\"\n        href={ url }\n        id=\"cart-edit-link\"\n        target=\"_top\"\n    >\n        <TranslatedString id=\"cart.edit_cart_action\" />\n    </a>\n);\n\nexport default memo(EditLink);\n","import { CheckoutSelectors } from '@bigcommerce/checkout-sdk';\nimport { createSelector } from 'reselect';\n\nimport { CheckoutContextProps } from '../checkout';\n\nimport mapToRedeemableProps from './mapToRedeemableProps';\nimport { CartSummaryProps, WithCheckoutCartSummaryProps } from './CartSummary';\n\nconst checkoutSelector = createSelector(\n    ({ data }: CheckoutSelectors) => data.getCheckout(),\n    (_: CheckoutSelectors, { storeCreditAmount }: CartSummaryProps) => storeCreditAmount,\n    (checkout, storeCreditAmount) => {\n        if (!checkout) {\n            return;\n        }\n\n        return {\n            ...checkout,\n            grandTotal: checkout.grandTotal - (storeCreditAmount || 0),\n        };\n    }\n);\n\nexport default function mapToCartSummaryProps(\n    context: CheckoutContextProps,\n    props: CartSummaryProps\n): WithCheckoutCartSummaryProps | null {\n    const {\n        checkoutState: {\n            data: { getConfig },\n        },\n    } = context;\n\n    const config = getConfig();\n    const redeemableProps = mapToRedeemableProps(context);\n    const checkout = checkoutSelector(context.checkoutState, props);\n\n    if (!checkout || !config || !redeemableProps) {\n        return null;\n    }\n\n    return {\n        checkout,\n        shopperCurrency: config.shopperCurrency,\n        cartUrl: config.links.cartLink,\n        storeCurrency: config.currency,\n        ...redeemableProps,\n    };\n}\n","import { CheckoutContextProps } from '../checkout';\nimport { EMPTY_ARRAY } from '../common/utility';\n\nimport { RedeemableProps } from './Redeemable';\n\nexport default function mapToRedeemableProps(\n    context: CheckoutContextProps\n): RedeemableProps | null {\n    const {\n        checkoutService,\n        checkoutState: {\n            data: {\n                getConfig,\n                getCoupons,\n                getGiftCertificates,\n            },\n            statuses: {\n                isApplyingCoupon,\n                isApplyingGiftCertificate,\n                isRemovingCoupon,\n                isRemovingGiftCertificate,\n            },\n            errors: {\n                getApplyCouponError,\n                getApplyGiftCertificateError,\n                getRemoveCouponError,\n                getRemoveGiftCertificateError,\n            },\n        },\n    } = context;\n\n    const config = getConfig();\n\n    if (!config) {\n        return null;\n    }\n\n    return {\n        appliedRedeemableError: getApplyCouponError() || getApplyGiftCertificateError(),\n        applyCoupon: checkoutService.applyCoupon,\n        applyGiftCertificate: checkoutService.applyGiftCertificate,\n        clearError: checkoutService.clearError,\n        coupons: getCoupons() || EMPTY_ARRAY,\n        giftCertificates: getGiftCertificates() || EMPTY_ARRAY,\n        isApplyingRedeemable: (isApplyingCoupon() || isApplyingGiftCertificate()),\n        isRemovingCoupon: isRemovingCoupon(),\n        isRemovingGiftCertificate: isRemovingGiftCertificate(),\n        onRemovedCoupon: checkoutService.removeCoupon,\n        onRemovedGiftCertificate: checkoutService.removeGiftCertificate,\n        removedRedeemableError: (getRemoveCouponError() || getRemoveGiftCertificateError()),\n        shouldCollapseCouponCode: config.checkoutSettings.isCouponCodeCollapsed,\n    };\n}\n","import { Coupon } from '@bigcommerce/checkout-sdk';\nimport React, { memo, FunctionComponent } from 'react';\n\nimport { TranslatedString } from '../locale';\n\nexport interface AppliedCouponProps {\n    coupon: Coupon;\n}\n\nconst AppliedCoupon: FunctionComponent<AppliedCouponProps> = ({ coupon }) => (\n    <div\n        className=\"redeemable-column redeemable-info\"\n        data-test=\"redeemable-item--coupon\"\n    >\n        <span className=\"redeemable-info-header\">\n            <span\n                className=\"redeemable-info-header--highlight\"\n                data-test=\"coupon-amount\"\n            >\n                { coupon.displayName }\n            </span>\n\n            { ' ' }\n\n            <TranslatedString id=\"redeemable.coupon_text\" />\n        </span>\n\n        <span className=\"redeemable-info-subHeader\" data-test=\"coupon-code\">\n            { coupon.code }\n        </span>\n    </div>\n);\n\nexport default memo(AppliedCoupon);\n","import { GiftCertificate } from '@bigcommerce/checkout-sdk';\nimport React, { memo, FunctionComponent } from 'react';\n\nimport { ShopperCurrency } from '../currency';\nimport { TranslatedString } from '../locale';\n\nexport interface AppliedGiftCertificateProps {\n    giftCertificate: GiftCertificate;\n}\n\nconst AppliedGiftCertificate: FunctionComponent<AppliedGiftCertificateProps> = ({ giftCertificate }) => (\n    <div\n        className=\"redeemable-column redeemable-info\"\n        data-test=\"redeemable-item--giftCertificate\"\n    >\n        <span className=\"redeemable-info-header\">\n            <span className=\"redeemable-info-header--highlight\" data-test=\"giftCertificate-amount\">\n                <ShopperCurrency amount={ giftCertificate.used } />\n            </span>\n\n            { ' ' }\n\n            <TranslatedString id=\"redeemable.gift_certificate_text\" />\n        </span>\n\n        <span className=\"redeemable-info-subHeader\">\n            { giftCertificate.remaining > 0 && <span className=\"redeemable-info-subHeader--remaining\">\n                <TranslatedString id=\"redeemable.gift_certificate_remaining_text\" />\n\n                { ' ' }\n\n                <span data-test=\"giftCertificate-remaining\">\n                    <ShopperCurrency amount={ giftCertificate.remaining } />\n                </span>\n            </span> }\n\n            <span data-test=\"giftCertificate-code\">\n                { giftCertificate.code }\n            </span>\n        </span>\n    </div>\n);\n\nexport default memo(AppliedGiftCertificate);\n","import React, { FunctionComponent } from 'react';\n\nimport withIconContainer from './withIconContainer';\n\nconst IconRemove: FunctionComponent = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"></path>\n    </svg>\n);\n\nexport default withIconContainer(IconRemove);\n","import classNames from 'classnames';\nimport React, { FunctionComponent } from 'react';\n\nimport { TranslatedString } from '../locale';\nimport { IconRemove } from '../ui/icon';\n\nexport interface AppliedRedeemableProps {\n    isRemoving: boolean;\n    onRemove(): void;\n}\n\nconst AppliedRedeemable: FunctionComponent<AppliedRedeemableProps> = ({\n    children,\n    isRemoving,\n    onRemove,\n}) => (\n    <div className=\"form-checklist-header\">\n        <div className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\">\n            <span className=\"is-srOnly\">\n                <TranslatedString id=\"redeemable.applied_text\" />\n            </span>\n        </div>\n\n        <div className=\"form-label form-label-redeemable\">\n            <div className=\"redeemable\">\n                { children }\n                <div className=\"redeemable-column redeemable-actions\">\n                    <button\n                        className={ classNames(\n                            'redeemable-remove',\n                            { 'is-loading': isRemoving }\n                        ) }\n                        data-test=\"redeemable-remove\"\n                        onClick={ onRemove }\n                        disabled={ isRemoving }\n                        type=\"button\"\n                    >\n                        <IconRemove />\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\nexport default AppliedRedeemable;\n","import { Coupon, GiftCertificate } from '@bigcommerce/checkout-sdk';\nimport React, { memo, useCallback, FunctionComponent } from 'react';\n\nimport { AppliedCoupon } from '../coupon';\nimport { AppliedGiftCertificate } from '../giftCertificate';\n\nimport AppliedRedeemable from './AppliedRedeemable';\n\ninterface AppliedCouponProps {\n    coupon: Coupon;\n    isRemoving?: boolean;\n    onRemoved(code: string): void;\n}\n\nconst AppliedCouponChecklistItem: FunctionComponent<AppliedCouponProps> = ({\n    coupon,\n    onRemoved,\n    isRemoving = false,\n}) => {\n    const handleRemove = useCallback(() => {\n        onRemoved(coupon.code);\n    }, [\n        coupon,\n        onRemoved,\n    ]);\n\n    return (\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\n            <AppliedRedeemable\n                onRemove={ handleRemove }\n                isRemoving={ isRemoving }\n            >\n                <AppliedCoupon coupon={ coupon } />\n            </AppliedRedeemable>\n        </li>\n    );\n};\n\ninterface AppliedGiftCertificateProps {\n    giftCertificate: GiftCertificate;\n    isRemoving?: boolean;\n    onRemoved(code: string): void;\n}\n\nconst AppliedGiftCertificateChecklistItem: FunctionComponent<AppliedGiftCertificateProps> = ({\n    giftCertificate,\n    onRemoved,\n    isRemoving = false,\n}) => {\n    const handleRemove = useCallback(() => {\n        onRemoved(giftCertificate.code);\n    }, [\n        giftCertificate,\n        onRemoved,\n    ]);\n\n    return (\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\n            <AppliedRedeemable\n                onRemove={ handleRemove }\n                isRemoving={ isRemoving }\n            >\n                <AppliedGiftCertificate giftCertificate={ giftCertificate } />\n            </AppliedRedeemable>\n        </li>\n    );\n};\n\nexport interface AppliedRedeemablesProps {\n    coupons?: Coupon[];\n    giftCertificates?: GiftCertificate[];\n    isRemovingGiftCertificate?: boolean;\n    isRemovingCoupon?: boolean;\n    onRemovedCoupon(code: string): void;\n    onRemovedGiftCertificate(code: string): void;\n}\n\nconst AppliedRedeemables: FunctionComponent<AppliedRedeemablesProps> = ({\n    coupons = [],\n    giftCertificates = [],\n    isRemovingCoupon = false,\n    isRemovingGiftCertificate = false,\n    onRemovedCoupon,\n    onRemovedGiftCertificate,\n}) => {\n    if (!coupons.length && !giftCertificates.length) {\n        return null;\n    }\n\n    return (\n        <ul data-test=\"redeemables-list\" className=\"form-checklist optimizedCheckout-form-checklist\">\n            { coupons.map(coupon => (\n                <AppliedCouponChecklistItem\n                    coupon={ coupon }\n                    isRemoving={ isRemovingCoupon }\n                    key={ coupon.code }\n                    onRemoved={ onRemovedCoupon }\n                />\n            )) }\n\n            { giftCertificates.map(giftCertificate => (\n                <AppliedGiftCertificateChecklistItem\n                    giftCertificate={ giftCertificate }\n                    isRemoving={ isRemovingGiftCertificate }\n                    key={ giftCertificate.code }\n                    onRemoved={ onRemovedGiftCertificate }\n                />\n            )) }\n        </ul>\n    );\n};\n\nexport default memo(AppliedRedeemables);\n","import { CheckoutSelectors, RequestError } from '@bigcommerce/checkout-sdk';\nimport { withFormik, FieldProps, FormikProps } from 'formik';\nimport { noop } from 'lodash';\nimport React, { memo, useCallback, Fragment, FunctionComponent, KeyboardEvent } from 'react';\nimport { object, string } from 'yup';\n\nimport { preventDefault } from '../common/dom';\nimport { memoize } from '../common/utility';\nimport { withLanguage, TranslatedString, WithLanguageProps } from '../locale';\nimport { Alert, AlertType } from '../ui/alert';\nimport { Button, ButtonVariant } from '../ui/button';\nimport { FormContextType, FormField, FormProvider, Label, TextInput } from '../ui/form';\nimport { Toggle } from '../ui/toggle';\n\nimport AppliedRedeemables, { AppliedRedeemablesProps } from './AppliedRedeemables';\n\nexport interface RedeemableFormValues {\n    redeemableCode: string;\n}\n\nexport type ReedemableChildrenProps = Pick<RedeemableProps,\n    'onRemovedCoupon' |\n    'onRemovedGiftCertificate' |\n    'isRemovingGiftCertificate' |\n    'isRemovingCoupon' |\n    'coupons' |\n    'giftCertificates'\n>;\n\nexport type RedeemableProps = {\n    appliedRedeemableError?: RequestError;\n    isApplyingRedeemable?: boolean;\n    isRemovingRedeemable?: boolean;\n    removedRedeemableError?: RequestError;\n    showAppliedRedeemables?: boolean;\n    shouldCollapseCouponCode?: boolean;\n    applyCoupon(code: string): Promise<CheckoutSelectors>;\n    applyGiftCertificate(code: string): Promise<CheckoutSelectors>;\n    clearError(error: Error): void;\n} & AppliedRedeemablesProps;\n\nconst Redeemable: FunctionComponent<RedeemableProps & WithLanguageProps & FormikProps<RedeemableFormValues>> = ({\n    shouldCollapseCouponCode,\n    showAppliedRedeemables,\n    ...formProps\n}) => (\n    <Toggle openByDefault={ !shouldCollapseCouponCode }>\n        { ({ toggle, isOpen }) => (\n            <Fragment>\n                { shouldCollapseCouponCode && <a\n                    className=\"redeemable-label\"\n                    data-test=\"redeemable-label\"\n                    href=\"#\"\n                    onClick={ preventDefault(toggle) }\n                >\n                    <TranslatedString id=\"redeemable.toggle_action\" />\n                </a> }\n                { !shouldCollapseCouponCode && <div className=\"redeemable-label\">\n                    <TranslatedString id=\"redeemable.toggle_action\" />\n                </div> }\n                { (isOpen || !shouldCollapseCouponCode) && <div data-test=\"redeemable-collapsable\">\n                    <RedeemableForm { ...formProps } />\n                    { showAppliedRedeemables &&\n                        <AppliedRedeemables { ...formProps } />\n                    }\n                </div> }\n            </Fragment>\n        ) }\n    </Toggle>\n);\n\nconst RedeemableForm: FunctionComponent<Partial<RedeemableProps> & FormikProps<RedeemableFormValues>> = ({\n    appliedRedeemableError,\n    isApplyingRedeemable,\n    clearError = noop,\n    submitForm,\n}) => {\n    const handleKeyDown = useCallback(memoize((setSubmitted: FormContextType['setSubmitted']) => (\n        (event: KeyboardEvent) => {\n            if (appliedRedeemableError) {\n                clearError(appliedRedeemableError);\n            }\n\n            // note: to prevent submitting main form, we manually intercept\n            // the enter key event and submit the \"subform\".\n            if (event.keyCode === 13) {\n                setSubmitted(true);\n                submitForm();\n                event.preventDefault();\n            }\n        }\n    )), [\n        appliedRedeemableError,\n        clearError,\n        submitForm,\n    ]);\n\n    const handleSubmit = useCallback(memoize((setSubmitted: FormContextType['setSubmitted']) => (\n        () => {\n            setSubmitted(true);\n            submitForm();\n        }\n    )), []);\n\n    const renderLabel = useCallback((name: string) => (\n        <Label hidden htmlFor={ name }>\n            <TranslatedString id=\"redeemable.code_label\" />\n        </Label>\n    ), []);\n\n    const renderInput = useCallback((setSubmitted: FormContextType['setSubmitted']) => ({ field }: FieldProps) => (\n        <Fragment>\n            { appliedRedeemableError && <Alert type={ AlertType.Error }>\n                { appliedRedeemableError.errors[0].code === 'not_applicable' ?\n                    <TranslatedString id=\"redeemable.coupon_location_error\" /> :\n                    <TranslatedString id=\"redeemable.code_invalid_error\" />\n                }\n            </Alert> }\n\n            <div className=\"form-prefixPostfix\">\n                <TextInput\n                    { ...field }\n                    onKeyDown={ handleKeyDown(setSubmitted) }\n                    className=\"form-input optimizedCheckout-form-input\"\n                    testId=\"redeemableEntry-input\"\n                />\n\n                <Button\n                    className=\"form-prefixPostfix-button--postfix\"\n                    testId=\"redeemableEntry-submit\"\n                    id=\"applyRedeemableButton\"\n                    variant={ ButtonVariant.Secondary }\n                    isLoading={ isApplyingRedeemable }\n                    onClick={ handleSubmit(setSubmitted) }\n                >\n                    <TranslatedString id=\"redeemable.apply_action\" />\n                </Button>\n            </div>\n        </Fragment>\n    ), [\n        appliedRedeemableError,\n        handleKeyDown,\n        handleSubmit,\n        isApplyingRedeemable,\n    ]);\n\n    const renderContent = useCallback(memoize(({ setSubmitted }: FormContextType) => (\n        <FormField\n            name=\"redeemableCode\"\n            label={ renderLabel }\n            input={ renderInput(setSubmitted) }\n        />\n    )), [\n        renderLabel,\n        renderInput,\n    ]);\n\n    return <fieldset className=\"form-fieldset redeemable-entry\">\n        <FormProvider>\n            { renderContent }\n        </FormProvider>\n    </fieldset>;\n};\n\nexport default withLanguage(withFormik<RedeemableProps & WithLanguageProps, RedeemableFormValues>({\n    mapPropsToValues() {\n        return {\n            redeemableCode: '',\n        };\n    },\n\n    async handleSubmit({ redeemableCode }, { props: { applyCoupon, applyGiftCertificate, clearError } }) {\n        const code = redeemableCode.trim();\n\n        try {\n            await applyGiftCertificate(code);\n        } catch (error) {\n            clearError(error);\n            applyCoupon(code);\n        }\n    },\n\n    validationSchema({ language }: RedeemableProps & WithLanguageProps) {\n        return object({\n            redeemableCode: string()\n                .required(language.translate('redeemable.code_required_error')),\n        });\n    },\n})(memo(Redeemable)));\n","import React, { ComponentType, FunctionComponent } from 'react';\n\nimport { OrderSummaryProps, OrderSummarySubtotalsProps } from '../order';\n\nimport mapToOrderSummarySubtotalsProps from './mapToOrderSummarySubtotalsProps';\nimport { CartSummaryProps, WithCheckoutCartSummaryProps } from './CartSummary';\nimport Redeemable from './Redeemable';\n\nexport default function withRedeemable(\n    OriginalComponent: ComponentType<OrderSummaryProps & OrderSummarySubtotalsProps>\n): FunctionComponent<\n    CartSummaryProps &\n    WithCheckoutCartSummaryProps &\n    { headerLink?: any }\n> {\n    return props => {\n        const {\n            checkout,\n            storeCurrency,\n            shopperCurrency,\n            headerLink,\n            onRemovedCoupon,\n            onRemovedGiftCertificate,\n            storeCreditAmount,\n            ...redeemableProps\n        } = props;\n\n        return (\n            <OriginalComponent\n                { ...mapToOrderSummarySubtotalsProps(checkout) }\n                onRemovedCoupon={ onRemovedCoupon }\n                onRemovedGiftCertificate={ onRemovedGiftCertificate }\n                headerLink={ headerLink }\n                storeCreditAmount={ storeCreditAmount }\n                lineItems={ checkout.cart.lineItems }\n                total={ checkout.grandTotal }\n                storeCurrency={ storeCurrency }\n                shopperCurrency={ shopperCurrency }\n                additionalLineItems={\n                    <Redeemable { ...{\n                        ...redeemableProps,\n                        onRemovedCoupon,\n                        onRemovedGiftCertificate,\n                    } } />\n                }\n            />\n        );\n    };\n}\n","import { Checkout } from '@bigcommerce/checkout-sdk';\n\nimport { OrderSummarySubtotalsProps } from '../order';\nimport { hasSelectedShippingOptions } from '../shipping';\n\nexport default function mapToOrderSummarySubtotalsProps({\n    subtotal,\n    cart: { discountAmount },\n    giftCertificates,\n    consignments,\n    handlingCostTotal,\n    shippingCostBeforeDiscount,\n    coupons,\n    taxes,\n}: Checkout): OrderSummarySubtotalsProps {\n    return {\n        subtotalAmount: subtotal,\n        discountAmount,\n        giftCertificates,\n        shippingAmount: hasSelectedShippingOptions(consignments) ?\n            shippingCostBeforeDiscount :\n            undefined,\n        handlingAmount: handlingCostTotal,\n        coupons,\n        taxes,\n    };\n}\n"],"sourceRoot":""}