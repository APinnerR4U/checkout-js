{"version":3,"file":"372-427193c1.js","mappings":"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","sources":["webpack://checkout/./packages/core/src/app/address/getAddressFormFieldInputId.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/AddressSelector.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/AddressSelectorUk.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/AddressSelectorFactory.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/mapToAddress.ts","webpack://checkout/./packages/core/src/app/ui/popover/Popover.tsx","webpack://checkout/./packages/core/src/app/ui/popover/PopoverList.tsx","webpack://checkout/./packages/core/src/app/ui/autocomplete/Autocomplete.tsx","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/GoogleAutocompleteScriptLoader.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/getGoogleAutocompleteScriptLoader.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/GoogleAutocompleteService.ts","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/GoogleAutocomplete.tsx","webpack://checkout/./packages/core/src/app/address/googleAutocomplete/GoogleAutocompleteFormField.tsx","webpack://checkout/./packages/core/src/app/address/AddressForm.tsx","webpack://checkout/./packages/core/src/app/address/AddressSelectButton.tsx","webpack://checkout/./packages/core/src/app/address/AddressSelect.tsx","webpack://checkout/./packages/core/src/app/address/isEqualAddress.ts","webpack://checkout/./packages/core/src/app/address/isValidCustomerAddress.ts","webpack://checkout/./packages/core/src/app/address/mapAddressFromFormValues.ts","webpack://checkout/./packages/core/src/app/formFields/mapCustomFormFieldsFromFormValues.ts","webpack://checkout/./packages/core/src/app/orderComments/OrderComments.tsx","webpack://checkout/./packages/core/src/app/payment/getPreselectedPayment.ts","webpack://checkout/./packages/core/src/app/shipping/getShippableItemsCount.ts","webpack://checkout/./packages/core/src/app/ui/dropdown/DropdownTrigger.tsx","webpack://checkout/./packages/core/src/app/ui/form/CheckboxFormField.tsx","webpack://checkout/./packages/core/src/app/ui/form/CheckboxInput.tsx","webpack://checkout/./packages/core/src/app/locale/withDate.tsx","webpack://checkout/./packages/core/src/app/ui/form/RadioInput.tsx","webpack://checkout/./packages/core/src/app/ui/form/DynamicInput.tsx","webpack://checkout/./packages/core/src/app/ui/form/MultiCheckboxControl.tsx","webpack://checkout/./packages/core/src/app/ui/form/CheckboxGroupFormField.tsx","webpack://checkout/./packages/core/src/app/ui/form/DynamicFormField.tsx","webpack://checkout/./packages/core/src/app/ui/form/TextArea.tsx"],"sourcesContent":["import { AddressKeyMap } from './address';\n\nexport const ADDRESS_FIELD_IDS: AddressKeyMap = {\n    address1: 'addressLine1',\n    address2: 'addressLine2',\n    postalCode: 'postCode',\n    stateOrProvince: 'province',\n    stateOrProvinceCode: 'provinceCode',\n};\n\nexport function getAddressFormFieldLegacyName(name: string): string {\n    return `${ADDRESS_FIELD_IDS[name] || name}`;\n}\n\nexport function getAddressFormFieldInputId(name: string): string {\n    return `${getAddressFormFieldLegacyName(name)}Input`;\n}\n\nexport function getAddressFormFieldLabelId(name: string): string {\n    return `${getAddressFormFieldLegacyName(name)}Label`;\n}\n","import { GoogleAddressFieldType } from './googleAutocompleteTypes';\n\nexport default class AddressSelector {\n    protected _address: google.maps.GeocoderAddressComponent[] | undefined;\n    protected _name: string;\n\n    constructor(googlePlace: google.maps.places.PlaceResult) {\n        const { address_components, name } = googlePlace;\n\n        this._name = name;\n        this._address = address_components;\n    }\n\n    getState(): string {\n        return this._get('administrative_area_level_1', 'short_name');\n    }\n\n    getStreet(): string {\n        return this._name;\n    }\n\n    getStreet2(): string {\n        return this._get('subpremise', 'short_name');\n    }\n\n    getCity(): string {\n        return (\n            this._get('postal_town', 'long_name') ||\n            this._get('locality', 'long_name') ||\n            this._get('neighborhood', 'short_name')\n        );\n    }\n\n    getCountry(): string {\n        return this._get('country', 'short_name');\n    }\n\n    getPostCode(): string {\n        return this._get('postal_code', 'short_name');\n    }\n\n    protected _get(\n        type: GoogleAddressFieldType,\n        access: Exclude<keyof google.maps.GeocoderAddressComponent, 'types'>,\n    ): string {\n        const element =\n            this._address && this._address.find((field) => field.types.indexOf(type) !== -1);\n\n        if (element) {\n            return element[access];\n        }\n\n        return '';\n    }\n}\n","import AddressSelector from './AddressSelector';\n\nexport default class AddressSelectorUK extends AddressSelector {\n    getState(): string {\n        return this._get('administrative_area_level_2', 'long_name');\n    }\n\n    getStreet2(): string {\n        return this._get('locality', 'long_name');\n    }\n}\n","import AddressSelector from './AddressSelector';\nimport AddressSelectorUK from './AddressSelectorUk';\n\nexport default class AddressSelectorFactory {\n    static create(autocompleteData: google.maps.places.PlaceResult): AddressSelector {\n        const addressSelector = new AddressSelector(autocompleteData);\n\n        switch (addressSelector.getCountry()) {\n            case 'GB':\n                return new AddressSelectorUK(autocompleteData);\n        }\n\n        return addressSelector;\n    }\n}\n","import { Address, Country, Region } from '@bigcommerce/checkout-sdk';\n\nimport AddressSelectorFactory from './AddressSelectorFactory';\n\nexport default function mapToAddress(\n    autocompleteData: google.maps.places.PlaceResult,\n    countries: Country[] = [],\n): Partial<Address> {\n    if (!autocompleteData || !autocompleteData.address_components) {\n        return {};\n    }\n\n    const accessor = AddressSelectorFactory.create(autocompleteData);\n    const state = accessor.getState();\n    const countryCode = accessor.getCountry();\n    const country = countries && countries.find((c) => countryCode === c.code);\n    const street2 = accessor.getStreet2();\n\n    return {\n        address2: street2,\n        city: accessor.getCity(),\n        countryCode,\n        postalCode: accessor.getPostCode(),\n        ...(state ? getState(state, country && country.subdivisions) : {}),\n    };\n}\n\nfunction getState(stateName: string, states: Region[] = []): Partial<Address> {\n    const state = states.find(({ code, name }: Region) => code === stateName || name === stateName);\n\n    if (!state) {\n        return {\n            stateOrProvince: !states.length ? stateName : '',\n            stateOrProvinceCode: '',\n        };\n    }\n\n    return {\n        stateOrProvince: state.name,\n        stateOrProvinceCode: state.code,\n    };\n}\n","import React, { FunctionComponent } from 'react';\n\nimport './Popover.scss';\n\nexport interface PopoverProps {\n    children: React.ReactNode;\n}\n\nconst Popover: FunctionComponent<PopoverProps> = ({ children }) => {\n    return <div className=\"popover\">{children}</div>;\n};\n\nexport default Popover;\n","import React, { FunctionComponent, memo } from 'react';\n\nimport './PopoverList.scss';\n\nexport interface PopoverListProps {\n    menuProps?: any;\n    highlightedIndex?: number;\n    getItemProps?: any;\n    items: PopoverListItem[];\n    testId?: string;\n}\n\nexport interface PopoverListItem {\n    id: string;\n    content: React.ReactChild[] | React.ReactChild;\n}\n\nconst PopoverList: FunctionComponent<PopoverListProps> = ({\n    highlightedIndex = -1,\n    testId,\n     \n    getItemProps = (props: any) => props,\n    menuProps = {},\n    items,\n}) => {\n    if (!items.length) {\n        return null;\n    }\n\n    return (\n        <ul className=\"popoverList\" data-test={testId} {...menuProps}>\n            {items.map((item, index) => (\n                <li\n                    className={getItemClassName(highlightedIndex, index)}\n                    data-test={testId && `${testId}-item`}\n                     \n                    {...getItemProps({\n                        key: item.id,\n                        index,\n                        item,\n                    })}\n                    key={index}\n                >\n                    {item.content}\n                </li>\n            ))}\n        </ul>\n    );\n};\n\nfunction getItemClassName(highlightedIndex: number, index: number): string {\n    const classes = ['popoverList-item'];\n\n    if (highlightedIndex === index) {\n        classes.push('is-active');\n    }\n\n    return classes.join(' ');\n}\n\nexport default memo(PopoverList);\n","import Downshift, { DownshiftState, StateChangeOptions } from 'downshift';\nimport { isNumber, noop } from 'lodash';\nimport React, { Fragment, PureComponent, ReactChild, ReactNode } from 'react';\n\nimport { Popover, PopoverList, PopoverListItem } from '../popover';\n\nimport AutocompleteItem from './autocomplete-item';\n\nexport interface AutocompleteProps {\n    initialValue?: string;\n    initialHighlightedIndex?: number;\n    children?: ReactNode;\n    items: AutocompleteItem[];\n    inputProps?: any;\n    listTestId?: string;\n    onToggleOpen?(state: { inputValue: string; isOpen: boolean }): void;\n    onSelect?(item: AutocompleteItem): void;\n    onChange?(value: string, isOpen: boolean): void;\n}\n\nclass Autocomplete extends PureComponent<AutocompleteProps> {\n    render(): ReactNode {\n        const {\n            inputProps,\n            initialValue,\n            initialHighlightedIndex,\n            items,\n            children,\n            onSelect,\n            listTestId,\n        } = this.props;\n\n        return (\n            <Downshift\n                defaultHighlightedIndex={0}\n                initialHighlightedIndex={initialHighlightedIndex}\n                initialInputValue={initialValue}\n                itemToString={this.itemToString}\n                labelId={\n                    inputProps && inputProps['aria-labelledby']\n                        ? inputProps['aria-labelledby']\n                        : null\n                }\n                onChange={onSelect}\n                onStateChange={this.handleStateChange}\n                stateReducer={this.stateReducer}\n            >\n                {({ isOpen, getInputProps, getMenuProps, getItemProps, highlightedIndex }) => (\n                    <div>\n                        <input {...getInputProps()} {...inputProps} />\n                        {isOpen && !!items.length && (\n                            <Popover>\n                                <PopoverList\n                                    getItemProps={getItemProps}\n                                    highlightedIndex={\n                                        isNumber(highlightedIndex) ? highlightedIndex : -1\n                                    }\n                                    items={items.map((item) => this.toPopoverItem(item))}\n                                    menuProps={getMenuProps()}\n                                    testId={listTestId}\n                                />\n                                {children}\n                            </Popover>\n                        )}\n                    </div>\n                )}\n            </Downshift>\n        );\n    }\n\n    private toPopoverItem(item: AutocompleteItem): PopoverListItem {\n        return {\n            ...item,\n            content: this.highlightItem(item),\n        };\n    }\n\n    private highlightItem(item: AutocompleteItem): ReactChild[] | ReactChild {\n        if (!item.highlightedSlices || !item.highlightedSlices.length) {\n            return item.label;\n        }\n\n        let lastIndex = 0;\n        let key = 0;\n\n        return item.highlightedSlices.reduce((node, slice, i) => {\n            const { label } = item;\n            const { offset, length } = slice;\n            const notHighlightedLength = offset - lastIndex;\n\n            if (notHighlightedLength) {\n                node.push(\n                    <Fragment key={key}>{label.substr(lastIndex, notHighlightedLength)}</Fragment>,\n                );\n                key += 1;\n            }\n\n            lastIndex = offset + length;\n\n            node.push(<strong key={key}>{label.substr(offset, length)}</strong>);\n            key += 1;\n\n            if (i === (item.highlightedSlices || []).length - 1) {\n                node.push(<Fragment key={key}>{label.substr(lastIndex)}</Fragment>);\n                key += 1;\n            }\n\n            return node;\n        }, [] as ReactChild[]);\n    }\n\n    private itemToString(item?: AutocompleteItem): string {\n        return (item && item.value) || '';\n    }\n\n    private stateReducer: (\n        state: DownshiftState<AutocompleteItem>,\n        changes: StateChangeOptions<AutocompleteItem>,\n    ) => Partial<StateChangeOptions<AutocompleteItem>> = (state, changes) => {\n        const { onChange } = this.props;\n\n        switch (changes.type) {\n            case Downshift.stateChangeTypes.blurInput:\n            case Downshift.stateChangeTypes.blurButton:\n            case Downshift.stateChangeTypes.mouseUp:\n            case Downshift.stateChangeTypes.touchEnd:\n                return {\n                    ...changes,\n                    inputValue: state.inputValue,\n                };\n\n            case Downshift.stateChangeTypes.changeInput:\n                if (changes.inputValue !== state.inputValue && onChange) {\n                    onChange(changes.inputValue || '', state.isOpen);\n                }\n\n                return changes;\n\n            case Downshift.stateChangeTypes.keyDownEnter:\n                return changes;\n\n            default:\n                return changes;\n        }\n    };\n\n    private handleStateChange = ({ isOpen, inputValue }: StateChangeOptions<string>) => {\n        const { onToggleOpen = noop } = this.props;\n\n        if (isOpen !== undefined) {\n            onToggleOpen({ isOpen, inputValue: inputValue || '' });\n        }\n    };\n}\n\nexport default Autocomplete;\n","import { getScriptLoader, ScriptLoader } from '@bigcommerce/script-loader';\n\nimport { GoogleAutocompleteWindow, GoogleMapsSdk } from './googleAutocompleteTypes';\n\nexport default class GoogleAutocompleteScriptLoader {\n    private _scriptLoader: ScriptLoader;\n    private _googleAutoComplete?: Promise<GoogleMapsSdk>;\n\n    constructor() {\n        this._scriptLoader = getScriptLoader();\n    }\n\n    loadMapsSdk(apiKey: string): Promise<GoogleMapsSdk> {\n        if (this._googleAutoComplete) {\n            return this._googleAutoComplete;\n        }\n\n        this._googleAutoComplete = new Promise((resolve, reject) => {\n            const callbackName = 'initAutoComplete';\n            const params = [\n                'language=en',\n                `key=${apiKey}`,\n                'libraries=places',\n                `callback=${callbackName}`,\n            ].join('&');\n\n            (window as GoogleCallbackWindow)[callbackName] = () => {\n                if (isAutocompleteWindow(window)) {\n                    resolve(window.google.maps);\n                }\n\n                reject();\n            };\n\n            this._scriptLoader\n                .loadScript(`//maps.googleapis.com/maps/api/js?${params}`)\n                .catch((e) => {\n                    this._googleAutoComplete = undefined;\n                    throw e;\n                });\n        });\n\n        return this._googleAutoComplete;\n    }\n}\n\nfunction isAutocompleteWindow(window: Window): window is GoogleAutocompleteWindow {\n    const autocompleteWindow = window as GoogleAutocompleteWindow;\n\n    return Boolean(\n        autocompleteWindow.google &&\n            autocompleteWindow.google.maps &&\n            autocompleteWindow.google.maps.places,\n    );\n}\n\nexport interface GoogleCallbackWindow extends Window {\n    initAutoComplete?(): void;\n}\n","import GoogleAutocompleteScriptLoader from './GoogleAutocompleteScriptLoader';\n\nlet instance: GoogleAutocompleteScriptLoader;\n\nexport default function getGoogleAutocompleteScriptLoader(): GoogleAutocompleteScriptLoader {\n    if (!instance) {\n        instance = new GoogleAutocompleteScriptLoader();\n    }\n\n    return instance;\n}\n","import getGoogleAutocompleteScriptLoader from './getGoogleAutocompleteScriptLoader';\nimport GoogleAutocompleteScriptLoader from './GoogleAutocompleteScriptLoader';\n\nexport default class GoogleAutocompleteService {\n    private _autocompletePromise?: Promise<google.maps.places.AutocompleteService>;\n    private _placesPromise?: Promise<google.maps.places.PlacesService>;\n\n    constructor(\n        private _apiKey: string,\n        private _scriptLoader: GoogleAutocompleteScriptLoader = getGoogleAutocompleteScriptLoader(),\n    ) {}\n\n    getAutocompleteService(): Promise<google.maps.places.AutocompleteService> {\n        if (!this._autocompletePromise) {\n            this._autocompletePromise = this._scriptLoader\n                .loadMapsSdk(this._apiKey)\n                .then((googleMapsSdk) => {\n                    if (!googleMapsSdk.places.AutocompleteService) {\n                        throw new Error('`AutocompleteService` is undefined');\n                    }\n\n                    return new googleMapsSdk.places.AutocompleteService();\n                });\n        }\n\n        return this._autocompletePromise;\n    }\n\n    getPlacesServices(): Promise<google.maps.places.PlacesService> {\n        const node = document.createElement('div');\n\n        if (!this._placesPromise) {\n            this._placesPromise = this._scriptLoader\n                .loadMapsSdk(this._apiKey)\n                .then((googleMapsSdk) => {\n                    if (!googleMapsSdk.places.PlacesService) {\n                        throw new Error('`PlacesService` is undefined');\n                    }\n\n                    return new googleMapsSdk.places.PlacesService(node);\n                });\n        }\n\n        return this._placesPromise;\n    }\n}\n","import { noop } from 'lodash';\nimport React, { PureComponent, ReactNode } from 'react';\n\nimport { Autocomplete, AutocompleteItem } from '../../ui/autocomplete';\n\nimport { GoogleAutocompleteOptionTypes } from './googleAutocompleteTypes';\nimport './GoogleAutocomplete.scss';\nimport GoogleAutocompleteService from './GoogleAutocompleteService';\n\ninterface GoogleAutocompleteProps {\n    initialValue?: string;\n    componentRestrictions?: google.maps.places.ComponentRestrictions;\n    fields?: string[];\n    apiKey: string;\n    nextElement?: HTMLElement;\n    inputProps?: any;\n    isAutocompleteEnabled?: boolean;\n    types?: GoogleAutocompleteOptionTypes[];\n    onSelect?(place: google.maps.places.PlaceResult, item: AutocompleteItem): void;\n    onToggleOpen?(state: { inputValue: string; isOpen: boolean }): void;\n    onChange?(value: string, isOpen: boolean): void;\n}\n\ninterface GoogleAutocompleteState {\n    items: AutocompleteItem[];\n    autoComplete: string;\n}\n\nclass GoogleAutocomplete extends PureComponent<GoogleAutocompleteProps, GoogleAutocompleteState> {\n    googleAutocompleteService: GoogleAutocompleteService;\n\n    constructor(props: GoogleAutocompleteProps) {\n        super(props);\n        this.googleAutocompleteService = new GoogleAutocompleteService(props.apiKey);\n        this.state = {\n            items: [],\n            autoComplete: 'off',\n        };\n    }\n\n    render(): ReactNode {\n        const { initialValue, onToggleOpen = noop, inputProps = {} } = this.props;\n\n        const { autoComplete, items } = this.state;\n\n        return (\n            <Autocomplete\n                initialHighlightedIndex={0}\n                initialValue={initialValue}\n                inputProps={{\n                    ...inputProps,\n                    autoComplete,\n                }}\n                items={items}\n                listTestId=\"address-autocomplete-suggestions\"\n                onChange={this.onChange}\n                onSelect={this.onSelect}\n                onToggleOpen={onToggleOpen}\n            >\n                <div className=\"co-googleAutocomplete-footer\" />\n            </Autocomplete>\n        );\n    }\n\n    private onSelect: (item: AutocompleteItem) => void = (item) => {\n        const { fields, onSelect = noop, nextElement } = this.props;\n\n        this.googleAutocompleteService.getPlacesServices().then((service) => {\n            service.getDetails(\n                {\n                    placeId: item.id,\n                    fields: fields || ['address_components', 'name'],\n                },\n                (result) => {\n                    if (nextElement) {\n                        nextElement.focus();\n                    }\n\n                    onSelect(result, item);\n                },\n            );\n        });\n    };\n\n    private onChange: (input: string) => void = (input) => {\n        const { isAutocompleteEnabled, onChange = noop } = this.props;\n\n        onChange(input, false);\n\n        if (!isAutocompleteEnabled) {\n            return this.resetAutocomplete();\n        }\n\n        this.setAutocomplete(input);\n        this.setItems(input);\n    };\n\n    private setItems(input: string): void {\n        if (!input) {\n            this.setState({ items: [] });\n\n            return;\n        }\n\n        const { componentRestrictions, types } = this.props;\n\n        this.googleAutocompleteService.getAutocompleteService().then((service) => {\n            service.getPlacePredictions(\n                {\n                    input,\n                    types: types || ['geocode'],\n                    componentRestrictions,\n                },\n                (results) => this.setState({ items: this.toAutocompleteItems(results) }),\n            );\n        });\n    }\n\n    private resetAutocomplete(): void {\n        this.setState({\n            items: [],\n            autoComplete: 'off',\n        });\n    }\n\n    private setAutocomplete(input: string): void {\n        this.setState({\n            ...this.state,\n            autoComplete: input && input.length ? 'nope' : 'off',\n        });\n    }\n\n    private toAutocompleteItems(\n        results?: google.maps.places.AutocompletePrediction[],\n    ): AutocompleteItem[] {\n        return (results || []).map((result) => ({\n            label: result.description,\n            value: result.structured_formatting.main_text,\n            highlightedSlices: result.matched_substrings,\n            id: result.place_id,\n        }));\n    }\n}\n\nexport default GoogleAutocomplete;\n","import { FormField as FormFieldType } from '@bigcommerce/checkout-sdk';\nimport { FieldProps } from 'formik';\nimport React, { FunctionComponent, memo, useCallback, useMemo } from 'react';\n\nimport { TranslatedString } from '../../locale';\nimport { AutocompleteItem } from '../../ui/autocomplete';\nimport { FormField, Label } from '../../ui/form';\nimport {\n    getAddressFormFieldInputId,\n    getAddressFormFieldLabelId,\n} from '../getAddressFormFieldInputId';\n\nimport GoogleAutocomplete from './GoogleAutocomplete';\n\nexport interface GoogleAutocompleteFormFieldProps {\n    apiKey: string;\n    field: FormFieldType;\n    countryCode?: string;\n    supportedCountries: string[];\n    nextElement?: HTMLElement;\n    parentFieldName?: string;\n    onSelect(place: google.maps.places.PlaceResult, item: AutocompleteItem): void;\n    onToggleOpen?(state: { inputValue: string; isOpen: boolean }): void;\n    onChange(value: string, isOpen: boolean): void;\n}\n\nconst GoogleAutocompleteFormField: FunctionComponent<GoogleAutocompleteFormFieldProps> = ({\n    field: { default: placeholder, name },\n    countryCode,\n    supportedCountries,\n    parentFieldName,\n    nextElement,\n    apiKey,\n    onSelect,\n    onChange,\n    onToggleOpen,\n}) => {\n    const fieldName = parentFieldName ? `${parentFieldName}.${name}` : name;\n\n    const labelContent = useMemo(() => <TranslatedString id=\"address.address_line_1_label\" />, []);\n\n    const labelId = getAddressFormFieldLabelId(name);\n\n    const inputProps = useMemo(\n        () => ({\n            className: 'form-input optimizedCheckout-form-input',\n            id: getAddressFormFieldInputId(name),\n            'aria-labelledby': labelId,\n            placeholder,\n        }),\n        [name, labelId, placeholder],\n    );\n\n    const renderInput = useCallback(\n        ({ field }: FieldProps) => (\n            <GoogleAutocomplete\n                apiKey={apiKey}\n                componentRestrictions={countryCode ? { country: countryCode } : undefined}\n                initialValue={field.value}\n                inputProps={inputProps}\n                isAutocompleteEnabled={\n                    countryCode ? supportedCountries.indexOf(countryCode) > -1 : false\n                }\n                nextElement={nextElement}\n                onChange={onChange}\n                onSelect={onSelect}\n                onToggleOpen={onToggleOpen}\n            />\n        ),\n        [\n            apiKey,\n            countryCode,\n            inputProps,\n            nextElement,\n            onChange,\n            onSelect,\n            onToggleOpen,\n            supportedCountries,\n        ],\n    );\n\n    return (\n        <div className=\"dynamic-form-field dynamic-form-field--addressLineAutocomplete\">\n            <FormField\n                input={renderInput}\n                label={\n                    <Label htmlFor={inputProps.id} id={labelId}>\n                        {labelContent}\n                    </Label>\n                }\n                name={fieldName}\n            />\n        </div>\n    );\n};\n\nexport default memo(GoogleAutocompleteFormField);\n","import { Address, Country, FormField } from '@bigcommerce/checkout-sdk';\nimport { memoize } from '@bigcommerce/memoize';\nimport { forIn, noop } from 'lodash';\nimport React, { Component, createRef, ReactNode, RefObject } from 'react';\n\nimport { TranslatedString, withLanguage, WithLanguageProps } from '../locale';\nimport { AutocompleteItem } from '../ui/autocomplete';\nimport { CheckboxFormField, DynamicFormField, DynamicFormFieldType, Fieldset } from '../ui/form';\n\nimport { AddressKeyMap } from './address';\nimport {\n    getAddressFormFieldInputId,\n    getAddressFormFieldLegacyName,\n} from './getAddressFormFieldInputId';\nimport { GoogleAutocompleteFormField, mapToAddress } from './googleAutocomplete';\nimport './AddressForm.scss';\n\nexport interface AddressFormProps {\n    fieldName?: string;\n    countryCode?: string;\n    countriesWithAutocomplete?: string[];\n    countries?: Country[];\n    formFields: FormField[];\n    googleMapsApiKey?: string;\n    shouldShowSaveAddress?: boolean;\n    onAutocompleteSelect?(address: Partial<Address>): void;\n    onAutocompleteToggle?(state: { inputValue: string; isOpen: boolean }): void;\n    onChange?(fieldName: string, value: string | string[]): void;\n    setFieldValue?(fieldName: string, value: string | string[]): void;\n}\n\nconst LABEL: AddressKeyMap = {\n    address1: 'address.address_line_1_label',\n    address2: 'address.address_line_2_label',\n    city: 'address.city_label',\n    company: 'address.company_name_label',\n    countryCode: 'address.country_label',\n    firstName: 'address.first_name_label',\n    lastName: 'address.last_name_label',\n    phone: 'address.phone_number_label',\n    postalCode: 'address.postal_code_label',\n    stateOrProvince: 'address.state_label',\n    stateOrProvinceCode: 'address.state_label',\n};\n\nconst AUTOCOMPLETE: AddressKeyMap = {\n    address1: 'address-line1',\n    address2: 'address-line2',\n    city: 'address-level2',\n    company: 'organization',\n    countryCode: 'country',\n    firstName: 'given-name',\n    lastName: 'family-name',\n    phone: 'tel',\n    postalCode: 'postal-code',\n    stateOrProvince: 'address-level1',\n    stateOrProvinceCode: 'address-level1',\n};\n\nconst PLACEHOLDER: AddressKeyMap = {\n    countryCode: 'address.select_country_action',\n    stateOrProvince: 'address.select_state_action',\n    stateOrProvinceCode: 'address.select_state_action',\n};\n\nconst AUTOCOMPLETE_FIELD_NAME = 'address1';\n\nclass AddressForm extends Component<AddressFormProps & WithLanguageProps> {\n    private containerRef: RefObject<HTMLElement> = createRef();\n    private nextElement?: HTMLElement | null;\n\n    private handleDynamicFormFieldChange: (name: string) => (value: string | string[]) => void =\n        memoize((name) => (value) => {\n            this.syncNonFormikValue(name, value);\n        });\n\n    componentDidMount(): void {\n        const { current } = this.containerRef;\n\n        if (current) {\n            this.nextElement = current.querySelector<HTMLElement>('[autocomplete=\"address-line2\"]');\n        }\n    }\n\n    render(): ReactNode {\n        const {\n            formFields,\n            fieldName,\n            countriesWithAutocomplete,\n            countryCode,\n            googleMapsApiKey,\n            onAutocompleteToggle,\n            shouldShowSaveAddress,\n        } = this.props;\n\n        return (\n            <>\n                <Fieldset>\n                    <div\n                        className=\"checkout-address\"\n                        ref={this.containerRef as RefObject<HTMLDivElement>}\n                    >\n                        {formFields.map((field) => {\n                            const addressFieldName = field.name;\n                            const translatedPlaceholderId = PLACEHOLDER[addressFieldName];\n\n                            if (\n                                addressFieldName === 'address1' &&\n                                googleMapsApiKey &&\n                                countriesWithAutocomplete\n                            ) {\n                                return (\n                                    <GoogleAutocompleteFormField\n                                        apiKey={googleMapsApiKey}\n                                        countryCode={countryCode}\n                                        field={field}\n                                        key={field.id}\n                                        nextElement={this.nextElement || undefined}\n                                        onChange={this.handleAutocompleteChange}\n                                        onSelect={this.handleAutocompleteSelect}\n                                        onToggleOpen={onAutocompleteToggle}\n                                        parentFieldName={fieldName}\n                                        supportedCountries={countriesWithAutocomplete}\n                                    />\n                                );\n                            }\n\n                            return (\n                                <DynamicFormField\n                                    autocomplete={AUTOCOMPLETE[field.name]}\n                                    extraClass={`dynamic-form-field--${getAddressFormFieldLegacyName(\n                                        addressFieldName,\n                                    )}`}\n                                    field={field}\n                                    inputId={getAddressFormFieldInputId(addressFieldName)}\n                                    // stateOrProvince can sometimes be a dropdown or input, so relying on id is not sufficient\n                                    key={`${field.id}-${field.name}`}\n                                    label={\n                                        field.custom ? (\n                                            field.label\n                                        ) : (\n                                            <TranslatedString id={LABEL[field.name]} />\n                                        )\n                                    }\n                                    onChange={this.handleDynamicFormFieldChange(addressFieldName)}\n                                    parentFieldName={\n                                        field.custom\n                                            ? fieldName\n                                                ? `${fieldName}.customFields`\n                                                : 'customFields'\n                                            : fieldName\n                                    }\n                                    placeholder={this.getPlaceholderValue(\n                                        field,\n                                        translatedPlaceholderId,\n                                    )}\n                                />\n                            );\n                        })}\n                    </div>\n                </Fieldset>\n                {shouldShowSaveAddress && (\n                    <CheckboxFormField\n                        labelContent={<TranslatedString id=\"address.save_in_addressbook\" />}\n                        name={fieldName ? `${fieldName}.shouldSaveAddress` : 'shouldSaveAddress'}\n                    />\n                )}\n            </>\n        );\n    }\n\n    private getPlaceholderValue(field: FormField, translatedPlaceholderId: string): string {\n        const { language } = this.props;\n\n        if (field.default && field.fieldType !== 'dropdown') {\n            return field.default;\n        }\n\n        return translatedPlaceholderId && language.translate(translatedPlaceholderId);\n    }\n\n    private handleAutocompleteChange: (value: string, isOpen: boolean) => void = (\n        value,\n        isOpen,\n    ) => {\n        if (!isOpen) {\n            this.syncNonFormikValue(AUTOCOMPLETE_FIELD_NAME, value);\n        }\n    };\n\n    private handleAutocompleteSelect: (\n        place: google.maps.places.PlaceResult,\n        item: AutocompleteItem,\n    ) => void = (place, { value: autocompleteValue }) => {\n        const { countries, setFieldValue = noop, onChange = noop } = this.props;\n\n        const address = mapToAddress(place, countries);\n\n        forIn(address, (value, fieldName) => {\n            setFieldValue(fieldName, value as string);\n            onChange(fieldName, value as string);\n        });\n\n        if (autocompleteValue) {\n            this.syncNonFormikValue(AUTOCOMPLETE_FIELD_NAME, autocompleteValue);\n        }\n    };\n\n    // because autocomplete state is controlled by Downshift, we need to manually keep formik\n    // value in sync when autocomplete value changes\n    private syncNonFormikValue: (fieldName: string, value: string | string[]) => void = (\n        fieldName,\n        value,\n    ) => {\n        const { formFields, setFieldValue = noop, onChange = noop } = this.props;\n\n        const dateFormFieldNames = formFields\n            .filter((field) => field.custom && field.fieldType === DynamicFormFieldType.date)\n            .map((field) => field.name);\n\n        if (fieldName === AUTOCOMPLETE_FIELD_NAME || dateFormFieldNames.indexOf(fieldName) > -1) {\n            setFieldValue(fieldName, value);\n        }\n\n        onChange(fieldName, value);\n    };\n}\n\nexport default withLanguage(AddressForm);\n","import React, { FunctionComponent, useState } from 'react';\n\nimport { preventDefault } from '../common/dom';\nimport { TranslatedString, withLanguage, WithLanguageProps } from '../locale';\n\nimport { AddressSelectProps } from './AddressSelect';\nimport StaticAddress from './StaticAddress';\n\ntype AddressSelectButtonProps = Pick<AddressSelectProps, 'selectedAddress' | 'addresses'>;\n\nconst AddressSelectButton: FunctionComponent<AddressSelectButtonProps & WithLanguageProps> = ({\n    selectedAddress,\n    language,\n}) => {\n    const [ariaExpanded, setAriaExpanded] = useState(false);\n\n    return (\n        <a\n            aria-controls=\"addressDropdown\"\n            aria-description={language.translate('address.enter_or_select_address_action')}\n            aria-expanded={ariaExpanded}\n            className=\"button dropdown-button dropdown-toggle--select\"\n            href=\"#\"\n            id=\"addressToggle\"\n            onClick={preventDefault(() => setAriaExpanded(!ariaExpanded))}\n        >\n            {selectedAddress ? (\n                <StaticAddress address={selectedAddress} />\n            ) : (\n                <TranslatedString id=\"address.enter_address_action\" />\n            )}\n        </a>\n    );\n};\n\nexport default withLanguage(AddressSelectButton);\n","import { Address, CustomerAddress } from '@bigcommerce/checkout-sdk';\nimport React, { FunctionComponent, memo, PureComponent, ReactNode } from 'react';\n\nimport { preventDefault } from '../common/dom';\nimport { TranslatedString } from '../locale';\nimport { DropdownTrigger } from '../ui/dropdown';\n\nimport isEqualAddress from './isEqualAddress';\nimport './AddressSelect.scss';\nimport AddressSelectButton from './AddressSelectButton';\nimport StaticAddress from './StaticAddress';\n\nexport interface AddressSelectProps {\n    addresses: CustomerAddress[];\n    selectedAddress?: Address;\n    onSelectAddress(address: Address): void;\n    onUseNewAddress(currentAddress?: Address): void;\n}\n\nclass AddressSelect extends PureComponent<AddressSelectProps> {\n    render(): ReactNode {\n        const { addresses, selectedAddress } = this.props;\n\n        return (\n            <div className=\"form-field\">\n                <div className=\"dropdown--select\">\n                    <DropdownTrigger\n                        dropdown={\n                            <AddressSelectMenu\n                                addresses={addresses}\n                                onSelectAddress={this.handleSelectAddress}\n                                onUseNewAddress={this.handleUseNewAddress}\n                                selectedAddress={selectedAddress}\n                            />\n                        }\n                    >\n                        <AddressSelectButton\n                            addresses={addresses}\n                            selectedAddress={selectedAddress}\n                        />\n                    </DropdownTrigger>\n                </div>\n            </div>\n        );\n    }\n\n    private handleSelectAddress: (newAddress: Address) => void = (newAddress: Address) => {\n        const { onSelectAddress, selectedAddress } = this.props;\n\n        if (!isEqualAddress(selectedAddress, newAddress)) {\n            onSelectAddress(newAddress);\n        }\n    };\n\n    private handleUseNewAddress: () => void = () => {\n        const { selectedAddress, onUseNewAddress } = this.props;\n\n        onUseNewAddress(selectedAddress);\n    };\n}\n\nconst AddressSelectMenu: FunctionComponent<AddressSelectProps> = ({\n    addresses,\n    onSelectAddress,\n    onUseNewAddress,\n    selectedAddress,\n}) => (\n    <ul className=\"dropdown-menu instrumentSelect-dropdownMenu\" id=\"addressDropdown\">\n        <li className=\"dropdown-menu-item dropdown-menu-item--select\">\n            <a\n                data-test=\"add-new-address\"\n                href=\"#\"\n                onClick={preventDefault(() => onUseNewAddress(selectedAddress))}\n            >\n                <TranslatedString id=\"address.enter_address_action\" />\n            </a>\n        </li>\n        {addresses.map((address) => (\n            <li className=\"dropdown-menu-item dropdown-menu-item--select\" key={address.id}>\n                <a href=\"#\" onClick={preventDefault(() => onSelectAddress(address))}>\n                    <StaticAddress address={address} />\n                </a>\n            </li>\n        ))}\n    </ul>\n);\n\nexport default memo(AddressSelect);\n","import {\n    Address,\n    AddressRequestBody,\n    BillingAddress,\n    CustomerAddress,\n} from '@bigcommerce/checkout-sdk';\nimport { isEqual, omit } from 'lodash';\n\ntype ComparableAddress = CustomerAddress | Address | BillingAddress | AddressRequestBody;\ntype ComparableAddressFields = keyof CustomerAddress | keyof Address | keyof BillingAddress;\n\nexport default function isEqualAddress(\n    address1?: ComparableAddress,\n    address2?: ComparableAddress,\n): boolean {\n    if (!address1 || !address2) {\n        return false;\n    }\n\n    return (\n        isEqual(normalizeAddress(address1), normalizeAddress(address2)) &&\n        isSameState(address1, address2)\n    );\n}\n\nfunction isSameState(address1: ComparableAddress, address2: ComparableAddress): boolean {\n    if (address1.stateOrProvince && address1.stateOrProvince === address2.stateOrProvince) {\n        return true;\n    }\n\n    if (\n        address1.stateOrProvinceCode &&\n        address1.stateOrProvinceCode === address2.stateOrProvinceCode\n    ) {\n        return true;\n    }\n\n    return (\n        address1.stateOrProvince === address2.stateOrProvince &&\n        address1.stateOrProvinceCode === address2.stateOrProvinceCode\n    );\n}\n\nfunction normalizeAddress(address: ComparableAddress) {\n    const ignoredFields: ComparableAddressFields[] = [\n        'id',\n        'shouldSaveAddress',\n        'stateOrProvince',\n        'stateOrProvinceCode',\n        'type',\n        'email',\n        'country',\n    ];\n\n    return omit(\n        {\n            ...address,\n            customFields: (address.customFields || []).filter(({ fieldValue }) => !!fieldValue),\n        },\n        ignoredFields,\n    );\n}\n","import { Address, CustomerAddress, FormField } from '@bigcommerce/checkout-sdk';\nimport { some } from 'lodash';\n\nimport isEqualAddress from './isEqualAddress';\nimport isValidAddress from './isValidAddress';\n\nexport default function isValidCustomerAddress(\n    address: Address | undefined,\n    addresses: CustomerAddress[],\n    formFields: FormField[],\n): boolean {\n    if (!address || !isValidAddress(address, formFields)) {\n        return false;\n    }\n\n    return some(addresses, (customerAddress) => isEqualAddress(customerAddress, address));\n}\n","import { Address } from '@bigcommerce/checkout-sdk';\n\nimport { mapCustomFormFieldsFromFormValues } from '../formFields';\n\nimport { AddressFormValues } from './mapAddressToFormValues';\n\nexport default function mapAddressFromFormValues(formValues: AddressFormValues): Address {\n    const { customFields, ...address } = formValues;\n    const shouldSaveAddress = formValues.shouldSaveAddress;\n\n    return {\n        ...address,\n        shouldSaveAddress,\n        customFields: mapCustomFormFieldsFromFormValues(customFields),\n    };\n}\n","import { forIn, isDate, padStart } from 'lodash';\n\nexport default function mapCustomFormFieldsFromFormValues(customFieldsObject: {\n    [id: string]: any;\n}): Array<{ fieldId: string; fieldValue: string }> {\n    const customFields: Array<{ fieldId: string; fieldValue: string }> = [];\n\n    forIn(customFieldsObject, (value, key) => {\n        let fieldValue: string;\n\n        if (isDate(value)) {\n            const padMonth = padStart((value.getMonth() + 1).toString(), 2, '0');\n            const padDay = padStart(value.getDate().toString(), 2, '0');\n\n            fieldValue = `${value.getFullYear()}-${padMonth}-${padDay}`;\n        } else {\n            fieldValue = value;\n        }\n\n        customFields.push({\n            fieldId: key,\n            fieldValue,\n        });\n    });\n\n    return customFields;\n}\n","import { FieldProps } from 'formik';\nimport React, { FunctionComponent, useCallback, useMemo } from 'react';\n\nimport { TranslatedString } from '../locale';\nimport { Fieldset, FormField, Label, Legend, TextInput } from '../ui/form';\n\nconst OrderComments: FunctionComponent = () => {\n    const renderLabel = useCallback(\n        (name) => (\n            <Label hidden htmlFor={name}>\n                <TranslatedString id=\"shipping.order_comment_label\" />\n            </Label>\n        ),\n        [],\n    );\n\n    const renderInput = useCallback(\n        ({ field }: FieldProps) => <TextInput {...field} autoComplete=\"off\" maxLength={2000} />,\n        [],\n    );\n\n    const legend = useMemo(\n        () => (\n            <Legend>\n                <TranslatedString id=\"shipping.order_comment_label\" />\n            </Legend>\n        ),\n        [],\n    );\n\n    return (\n        <Fieldset legend={legend} testId=\"checkout-shipping-comments\">\n            <FormField input={renderInput} label={renderLabel} name=\"orderComment\" />\n        </Fieldset>\n    );\n};\n\nexport default OrderComments;\n","import { Checkout, CheckoutPayment } from '@bigcommerce/checkout-sdk';\n\nimport { isGiftCertificatePayment } from '../giftCertificate';\n\nimport { isStoreCreditPayment } from './storeCredit';\n\nexport default function getPreselectedPayment(checkout: Checkout): CheckoutPayment | undefined {\n    const payments = checkout && checkout.payments ? checkout.payments : [];\n\n    return payments.find(\n        (payment) =>\n            !isGiftCertificatePayment(payment) &&\n            !isStoreCreditPayment(payment) &&\n            !!payment.providerId,\n    );\n}\n","import { Cart } from '@bigcommerce/checkout-sdk';\n\nimport getLineItemsCount from './getLineItemsCount';\n\nexport default function getShippableItemsCount(cart: Cart): number {\n    return getLineItemsCount(cart.lineItems.physicalItems.filter((item) => !item.addedByPromotion));\n}\n","import { Placement } from 'popper.js';\nimport React, { Component, MouseEventHandler, ReactNode } from 'react';\nimport { Manager, Popper, Reference } from 'react-popper';\n\nexport interface DropdownTriggerProps {\n    placement?: Placement;\n    dropdown: ReactNode;\n}\n\nexport interface DropdownTriggerState {\n    shouldShow: boolean;\n}\n\nexport default class DropdownTrigger extends Component<DropdownTriggerProps, DropdownTriggerState> {\n    static defaultProps = {\n        placement: 'bottom-start',\n    };\n\n    state: Readonly<DropdownTriggerState> = {\n        shouldShow: false,\n    };\n\n    componentWillUnmount(): void {\n        document.removeEventListener('click', this.handleClose);\n    }\n\n    render() {\n        const { children, placement, dropdown } = this.props;\n        const { shouldShow } = this.state;\n\n        return (\n            <Manager>\n                <Reference>\n                    {({ ref }) => (\n                        <div className=\"dropdownTrigger\" onClick={this.handleClick} ref={ref}>\n                            {children}\n                        </div>\n                    )}\n                </Reference>\n\n                <Popper\n                    modifiers={{\n                        hide: { enabled: false },\n                        flip: { enabled: false },\n                        preventOverflow: { enabled: false },\n                    }}\n                    placement={placement}\n                >\n                    {({ ref, style }) =>\n                        !shouldShow ? null : (\n                            <div\n                                className=\"dropdownMenu\"\n                                ref={ref}\n                                style={{\n                                    ...style,\n                                    width: '100%',\n                                    zIndex: 1,\n                                }}\n                            >\n                                {dropdown}\n                            </div>\n                        )\n                    }\n                </Popper>\n            </Manager>\n        );\n    }\n\n    private handleClick: MouseEventHandler<HTMLElement> = (event) => {\n        const { shouldShow } = this.state;\n\n        if (shouldShow) {\n            this.handleClose(event.nativeEvent);\n        } else {\n            this.handleOpen(event.nativeEvent);\n        }\n    };\n\n    private handleOpen: (event: MouseEvent) => void = () => {\n        const { shouldShow } = this.state;\n\n        if (shouldShow) {\n            return;\n        }\n\n        this.setState({ shouldShow: true }, () => {\n            document.addEventListener('click', this.handleClose);\n        });\n    };\n\n    private handleClose: (event: MouseEvent) => void = () => {\n        const { shouldShow } = this.state;\n\n        if (!shouldShow) {\n            return;\n        }\n\n        this.setState({ shouldShow: false }, () => {\n            document.removeEventListener('click', this.handleClose);\n        });\n    };\n}\n","import { FieldProps } from 'formik';\nimport { kebabCase } from 'lodash';\nimport React, { FunctionComponent, memo, ReactNode, useCallback } from 'react';\n\nimport BasicFormField from './BasicFormField';\nimport CheckboxInput from './CheckboxInput';\nimport FormFieldError from './FormFieldError';\n\nexport interface CheckboxFormFieldProps {\n    additionalClassName?: string;\n    disabled?: boolean;\n    name: string;\n    id?: string;\n    labelContent: ReactNode;\n    onChange?(isChecked: boolean): void;\n}\n\nconst CheckboxFormField: FunctionComponent<CheckboxFormFieldProps> = ({\n    additionalClassName,\n    disabled = false,\n    labelContent,\n    onChange,\n    name,\n    id,\n}) => {\n    const renderField = useCallback(\n        ({ field }: FieldProps) => (\n            <>\n                <CheckboxInput\n                    {...field}\n                    checked={!!field.value}\n                    disabled={disabled}\n                    id={id || field.name}\n                    label={labelContent}\n                />\n\n                <FormFieldError\n                    errorId={`${id ?? name}-field-error-message`}\n                    name={name}\n                    testId={`${kebabCase(name)}-field-error-message`}\n                />\n            </>\n        ),\n        [disabled, id, labelContent, name],\n    );\n\n    return (\n        <BasicFormField\n            additionalClassName={additionalClassName}\n            name={name}\n            onChange={onChange}\n            render={renderField}\n        />\n    );\n};\n\nexport default memo(CheckboxFormField);\n","import classNames from 'classnames';\nimport React, { forwardRef, ReactNode, Ref } from 'react';\n\nimport Input, { InputProps } from './Input';\nimport Label from './Label';\n\nexport interface CheckboxInputProps extends InputProps {\n    additionalClassName?: string;\n    label: ReactNode;\n    value: string;\n    checked: boolean;\n}\n\nconst CheckboxInput = forwardRef(\n    (\n        { additionalClassName, label, id, ...rest }: CheckboxInputProps,\n        ref: Ref<HTMLInputElement>,\n    ) => (\n        <>\n            <Input\n                {...rest}\n                className={classNames(\n                    'form-checkbox',\n                    'optimizedCheckout-form-checkbox',\n                    additionalClassName,\n                )}\n                id={id}\n                ref={ref}\n                type=\"checkbox\"\n            />\n            <Label htmlFor={id}>{label}</Label>\n        </>\n    ),\n);\n\nexport default CheckboxInput;\n","import { createInjectHoc, InjectHoc } from '../common/hoc';\n\nimport LocaleContext from './LocaleContext';\n\nexport interface WithDateProps {\n    date: {\n        inputFormat: string;\n    };\n}\n\nconst withDate: InjectHoc<WithDateProps> = createInjectHoc(LocaleContext, {\n    displayNamePrefix: 'withDate',\n    pickProps: (value, key) => key === 'date' && !!value,\n});\n\nexport default withDate;\n","import classNames from 'classnames';\nimport React, { forwardRef, ReactNode, Ref } from 'react';\n\nimport Input, { InputProps } from './Input';\nimport Label from './Label';\n\nexport interface RadioInputProps extends InputProps {\n    additionalClassName?: string;\n    label: ReactNode;\n    value: string;\n    checked: boolean;\n}\n\nconst RadioInput = forwardRef(\n    (\n        { additionalClassName, label, value, checked, id, ...rest }: RadioInputProps,\n        ref: Ref<HTMLInputElement>,\n    ) => (\n        <>\n            <Input\n                {...rest}\n                checked={checked}\n                className={classNames(\n                    'form-radio',\n                    'optimizedCheckout-form-radio',\n                    additionalClassName,\n                )}\n                id={id}\n                ref={ref}\n                type=\"radio\"\n                value={value}\n            />\n            <Label htmlFor={id}>{label}</Label>\n        </>\n    ),\n);\n\nexport default RadioInput;\n","import { FormFieldItem } from '@bigcommerce/checkout-sdk';\nimport { isDate, noop } from 'lodash';\nimport React, { FunctionComponent, memo, useCallback } from 'react';\nimport ReactDatePicker from 'react-datepicker';\n\nimport { withDate, WithDateProps } from '../../locale';\n\nimport CheckboxInput from './CheckboxInput';\nimport DynamicFormFieldType from './DynamicFormFieldType';\nimport { InputProps } from './Input';\nimport RadioInput from './RadioInput';\nimport TextArea from './TextArea';\nimport TextInput from './TextInput';\n\nexport interface DynamicInputProps extends InputProps {\n    id: string;\n    additionalClassName?: string;\n    value?: string | string[];\n    rows?: number;\n    fieldType?: DynamicFormFieldType;\n    options?: FormFieldItem[];\n}\n\nconst DynamicInput: FunctionComponent<DynamicInputProps & WithDateProps> = ({\n    additionalClassName,\n    date,\n    fieldType,\n    id,\n    name,\n    onChange = noop,\n    options,\n    placeholder,\n    value,\n    ...rest\n}) => {\n    const { inputFormat } = date;\n    const handleDateChange = useCallback(\n        (dateValue, event) =>\n            onChange({\n                ...event,\n                target: {\n                    name,\n                    value: dateValue,\n                },\n            }),\n        [onChange, name],\n    );\n\n    switch (fieldType) {\n        case DynamicFormFieldType.dropdown:\n            return (\n                <select\n                    {...(rest as any)}\n                    className=\"form-select optimizedCheckout-form-select\"\n                    data-test={`${id}-select`}\n                    id={id}\n                    name={name}\n                    onChange={onChange}\n                    value={value === null ? '' : value}\n                >\n                    {placeholder && <option value=\"\">{placeholder}</option>}\n                    {options &&\n                        options.map(({ label, value: optionValue }) => (\n                            <option key={optionValue} value={optionValue}>\n                                {label}\n                            </option>\n                        ))}\n                </select>\n            );\n\n        case DynamicFormFieldType.radio:\n            if (!options || !options.length) {\n                return null;\n            }\n\n            return (\n                <>\n                    {options.map(({ label, value: optionValue }) => (\n                        <RadioInput\n                            {...rest}\n                            checked={optionValue === value}\n                            id={`${id}-${optionValue}`}\n                            key={optionValue}\n                            label={label}\n                            name={name}\n                            onChange={onChange}\n                            testId={`${id}-${optionValue}-radio`}\n                            value={optionValue}\n                        />\n                    ))}\n                </>\n            );\n\n        case DynamicFormFieldType.checkbox:\n            if (!options || !options.length) {\n                return null;\n            }\n\n            return (\n                <>\n                    {options.map(({ label, value: optionValue }) => (\n                        <CheckboxInput\n                            {...rest}\n                            checked={Array.isArray(value) ? value.includes(optionValue) : false}\n                            id={`${id}-${optionValue}`}\n                            key={optionValue}\n                            label={label}\n                            name={name}\n                            onChange={onChange}\n                            testId={`${id}-${optionValue}-checkbox`}\n                            value={optionValue}\n                        />\n                    ))}\n                </>\n            );\n\n        case DynamicFormFieldType.date:\n            return (\n                <ReactDatePicker\n                    {...(rest as any)}\n                    autoComplete=\"off\"\n                    // FIXME: we can avoid this by simply using onChangeRaw, but it's not being triggered properly\n                    // https://github.com/Hacker0x01/react-datepicker/issues/1357\n                    // onChangeRaw={ rest.onChange }\n                    calendarClassName=\"optimizedCheckout-contentPrimary\"\n                    className=\"form-input optimizedCheckout-form-input\"\n                    dateFormat={inputFormat}\n                    maxDate={rest.max ? new Date(`${rest.max}T00:00:00Z`) : undefined}\n                    minDate={rest.min ? new Date(`${rest.min}T00:00:00Z`) : undefined}\n                    name={name}\n                    onChange={handleDateChange}\n                    placeholderText={inputFormat.toUpperCase()}\n                    popperClassName=\"optimizedCheckout-contentPrimary\"\n                    selected={isDate(value) ? value : undefined}\n                />\n            );\n\n        case DynamicFormFieldType.multiline:\n            return (\n                <TextArea\n                    {...(rest as any)}\n                    id={id}\n                    name={name}\n                    onChange={onChange}\n                    testId={`${id}-text`}\n                    type={fieldType}\n                    value={value}\n                />\n            );\n\n        default:\n            return (\n                <TextInput\n                    {...rest}\n                    id={id}\n                    name={name}\n                    onChange={onChange}\n                    placeholder={placeholder}\n                    testId={`${id}-${\n                        fieldType === DynamicFormFieldType.password ? 'password' : 'text'\n                    }`}\n                    type={fieldType}\n                    value={value}\n                />\n            );\n    }\n};\n\nexport default memo(withDate(DynamicInput));\n","import React, { FunctionComponent, memo, MouseEvent, useCallback } from 'react';\n\nimport { TranslatedString } from '../../locale';\n\nimport './MultiCheckboxControl.scss';\n\nexport interface MultiCheckboxControlProps {\n    testId?: string;\n    onSelectedAll(): void;\n    onSelectedNone(): void;\n}\n\nconst MultiCheckboxControl: FunctionComponent<MultiCheckboxControlProps> = ({\n    testId,\n    onSelectedAll,\n    onSelectedNone,\n}) => {\n    const handleSelectAllClick = useCallback(\n        (event: MouseEvent) => {\n            event.preventDefault();\n            onSelectedAll();\n        },\n        [onSelectedAll],\n    );\n\n    const handleSelectNoneClick = useCallback(\n        (event: MouseEvent) => {\n            event.preventDefault();\n            onSelectedNone();\n        },\n        [onSelectedNone],\n    );\n\n    return (\n        <ul className=\"multiCheckbox--controls\">\n            <li className=\"multiCheckbox--control\">\n                <TranslatedString id=\"address.select\" />\n            </li>\n\n            <li className=\"multiCheckbox--control\">\n                <a\n                    data-test={`${testId}Checkbox-all-button`}\n                    href=\"#\"\n                    onClick={handleSelectAllClick}\n                >\n                    <TranslatedString id=\"address.select_all\" />\n                </a>\n            </li>\n\n            <li className=\"multiCheckbox--control\">\n                <a\n                    data-test={`${testId}Checkbox-none-button`}\n                    href=\"#\"\n                    onClick={handleSelectNoneClick}\n                >\n                    <TranslatedString id=\"address.select_none\" />\n                </a>\n            </li>\n        </ul>\n    );\n};\n\nexport default memo(MultiCheckboxControl);\n","import { FormFieldItem } from '@bigcommerce/checkout-sdk';\nimport { FieldArray, FieldArrayRenderProps, getIn } from 'formik';\nimport { difference, kebabCase, noop, pick } from 'lodash';\nimport React, { ChangeEvent, FunctionComponent, memo, ReactNode, useCallback } from 'react';\n\nimport DynamicFormFieldType from './DynamicFormFieldType';\nimport DynamicInput from './DynamicInput';\nimport FormFieldContainer from './FormFieldContainer';\nimport FormFieldError from './FormFieldError';\nimport MultiCheckboxControl from './MultiCheckboxControl';\n\nexport interface CheckboxGroupFormFieldProps {\n    id: string;\n    label: ReactNode;\n    name: string;\n    options: FormFieldItem[];\n    onChange?(values: string[]): void;\n}\n\ntype MultiCheckboxFormFieldProps = CheckboxGroupFormFieldProps &\n    Pick<FieldArrayRenderProps, 'push' | 'remove' | 'pop' | 'form'>;\n\nconst MultiCheckboxFormField: FunctionComponent<MultiCheckboxFormFieldProps> = ({\n    form: { values, errors },\n    id,\n    label,\n    name,\n    onChange = noop,\n    options,\n    push,\n    remove,\n}) => {\n    const handleSelectAll = useCallback(() => {\n        const checkedValues: string[] = getIn(values, name) || [];\n\n        difference(\n            options.map(({ value }) => value),\n            checkedValues,\n        ).forEach((val) => push(val));\n\n        onChange(getIn(values, name));\n    }, [name, onChange, options, push, values]);\n\n    const handleSelectNone = useCallback(() => {\n        const checkedValues: string[] = getIn(values, name) || [];\n\n        checkedValues.forEach(() => remove(0));\n\n        onChange(getIn(values, name));\n    }, [name, onChange, remove, values]);\n\n    const handleInputChange = useCallback(\n        (event: ChangeEvent<HTMLInputElement>) => {\n            const checkedValues: string[] = getIn(values, name) || [];\n            const { value, checked } = event.target;\n\n            if (checked) {\n                push(value);\n            } else {\n                remove(checkedValues.indexOf(value));\n            }\n\n            onChange(getIn(values, name));\n        },\n        [name, onChange, push, remove, values],\n    );\n\n    return (\n        <FormFieldContainer hasError={getIn(errors, name) && getIn(errors, name).length}>\n            {label}\n\n            {options.length > 1 && (\n                <MultiCheckboxControl\n                    onSelectedAll={handleSelectAll}\n                    onSelectedNone={handleSelectNone}\n                    testId={id}\n                />\n            )}\n\n            <DynamicInput\n                fieldType={DynamicFormFieldType.checkbox}\n                id={id}\n                name={name}\n                onChange={handleInputChange}\n                options={options}\n                value={getIn(values, name) || []}\n            />\n\n            <FormFieldError\n                errorId={`${id ?? name}-field-error-message`}\n                name={name}\n                testId={`${kebabCase(name)}-field-error-message`}\n            />\n        </FormFieldContainer>\n    );\n};\n\nconst CheckboxGroupFormField: FunctionComponent<CheckboxGroupFormFieldProps> = ({\n    id,\n    label,\n    name,\n    onChange,\n    options,\n}) => {\n    const renderField = useCallback(\n        (renderProps: FieldArrayRenderProps) => (\n            <MultiCheckboxFormField\n                id={id}\n                label={label}\n                name={name}\n                onChange={onChange}\n                options={options}\n                {...pick(renderProps, ['form', 'pop', 'push', 'remove'])}\n            />\n        ),\n        [id, label, name, onChange, options],\n    );\n\n    return <FieldArray name={name} render={renderField} />;\n};\n\nexport default memo(CheckboxGroupFormField);\n","import { FormField as FormFieldType } from '@bigcommerce/checkout-sdk';\nimport { FieldProps } from 'formik';\nimport { includes } from 'lodash';\nimport React, { FunctionComponent, memo, ReactNode, useCallback, useMemo } from 'react';\n\nimport { TranslatedString } from '../../locale';\n\nimport CheckboxGroupFormField from './CheckboxGroupFormField';\nimport DynamicFormFieldType from './DynamicFormFieldType';\nimport DynamicInput from './DynamicInput';\nimport FormField from './FormField';\nimport Label from './Label';\n\nexport interface DynamicFormFieldOption {\n    code: string;\n    name: string;\n}\n\nexport interface DynamicFormFieldProps {\n    field: FormFieldType;\n    inputId?: string;\n    extraClass?: string;\n    autocomplete?: string;\n    parentFieldName?: string;\n    placeholder?: string;\n    label?: ReactNode;\n    onChange?(value: string | string[]): void;\n}\n\nconst DynamicFormField: FunctionComponent<DynamicFormFieldProps> = ({\n    field: {\n        fieldType,\n        type,\n        secret,\n        name,\n        label: fieldLabel,\n        required,\n        options,\n        max,\n        min,\n        maxLength,\n    },\n    parentFieldName,\n    onChange,\n    placeholder,\n    inputId,\n    autocomplete,\n    label,\n    extraClass,\n}) => {\n    const fieldInputId = inputId || name;\n    const fieldName = parentFieldName ? `${parentFieldName}.${name}` : name;\n\n    const labelComponent = useMemo(\n        () => (\n            <Label htmlFor={fieldInputId} id={`${fieldInputId}-label`}>\n                {label || fieldLabel}\n                {!required && (\n                    <>\n                        {' '}\n                        <small className=\"optimizedCheckout-contentSecondary\">\n                            <TranslatedString id=\"common.optional_text\" />\n                        </small>\n                    </>\n                )}\n            </Label>\n        ),\n        [fieldInputId, fieldLabel, required, label],\n    );\n\n    const dynamicFormFieldType = useMemo((): DynamicFormFieldType => {\n        if (fieldType === 'text') {\n            if (type === 'integer') {\n                return DynamicFormFieldType.number;\n            }\n\n            if (includes(name, 'phone') || includes(name, 'tel')) {\n                return DynamicFormFieldType.telephone;\n            }\n\n            return secret ? DynamicFormFieldType.password : DynamicFormFieldType.text;\n        }\n\n        return fieldType as DynamicFormFieldType;\n    }, [fieldType, type, secret]);\n\n    const renderInput = useCallback(\n        ({ field }: FieldProps<string>) => (\n            <DynamicInput\n                {...field}\n                aria-labelledby={`${fieldInputId}-label ${fieldInputId}-field-error-message`}\n                autoComplete={autocomplete}\n                fieldType={dynamicFormFieldType}\n                id={fieldInputId}\n                max={max}\n                maxLength={maxLength || undefined}\n                min={min}\n                options={options && options.items}\n                placeholder={placeholder || (options && options.helperLabel)}\n                rows={options && (options as any).rows}\n            />\n        ),\n        [\n            fieldInputId,\n            max,\n            maxLength,\n            min,\n            options,\n            placeholder,\n            dynamicFormFieldType,\n            autocomplete,\n        ],\n    );\n\n    return (\n        <div className={`dynamic-form-field ${extraClass}`}>\n            {fieldType === DynamicFormFieldType.checkbox ? (\n                <CheckboxGroupFormField\n                    id={fieldInputId}\n                    label={labelComponent}\n                    name={fieldName}\n                    onChange={onChange}\n                    options={(options && options.items) || []}\n                />\n            ) : (\n                <FormField\n                    id={fieldInputId}\n                    input={renderInput}\n                    label={labelComponent}\n                    name={fieldName}\n                    onChange={onChange}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default memo(DynamicFormField);\n","import classNames from 'classnames';\nimport React, { forwardRef, Ref, TextareaHTMLAttributes } from 'react';\n\nexport interface TextAreaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n    additionalClassName?: string;\n    testId?: string;\n}\n\nconst TextArea = forwardRef(\n    (\n        { additionalClassName, testId, className, ...rest }: TextAreaProps,\n        ref: Ref<HTMLTextAreaElement>,\n    ) => (\n        <textarea\n            {...rest}\n            className={\n                className ||\n                classNames('form-input', 'optimizedCheckout-form-input', additionalClassName)\n            }\n            data-test={testId}\n            ref={ref}\n        />\n    ),\n);\n\nexport default TextArea;\n"],"names":["ADDRESS_FIELD_IDS","address1","address2","postalCode","stateOrProvince","stateOrProvinceCode","getAddressFormFieldLegacyName","name","getAddressFormFieldInputId","googlePlace","address_components","this","_name","_address","getState","_get","getStreet","getStreet2","getCity","getCountry","getPostCode","type","access","element","find","field","types","indexOf","create","autocompleteData","addressSelector","mapToAddress","countries","accessor","state","countryCode","country","c","code","street2","city","stateName","states","length","subdivisions","children","className","getItemClassName","highlightedIndex","index","classes","push","join","memo","testId","getItemProps","props","menuProps","items","map","item","key","id","content","stateReducer","changes","onChange","inputValue","isOpen","handleStateChange","onToggleOpen","noop","undefined","render","inputProps","initialValue","initialHighlightedIndex","onSelect","listTestId","defaultHighlightedIndex","initialInputValue","itemToString","labelId","onStateChange","getInputProps","getMenuProps","isNumber","toPopoverItem","highlightItem","highlightedSlices","label","lastIndex","reduce","node","slice","i","offset","notHighlightedLength","Fragment","substr","value","PureComponent","_scriptLoader","loadMapsSdk","apiKey","_googleAutoComplete","Promise","resolve","reject","callbackName","params","window","autocompleteWindow","Boolean","google","maps","places","isAutocompleteWindow","loadScript","catch","e","instance","_apiKey","getAutocompleteService","_autocompletePromise","then","googleMapsSdk","AutocompleteService","Error","getPlacesServices","document","createElement","_placesPromise","PlacesService","fields","nextElement","googleAutocompleteService","service","getDetails","placeId","result","focus","input","isAutocompleteEnabled","resetAutocomplete","setAutocomplete","setItems","autoComplete","componentRestrictions","getPlacePredictions","results","setState","toAutocompleteItems","description","structured_formatting","main_text","matched_substrings","place_id","placeholder","supportedCountries","parentFieldName","fieldName","labelContent","useMemo","TranslatedString","getAddressFormFieldLabelId","renderInput","useCallback","FormField","Label","htmlFor","LABEL","company","firstName","lastName","phone","AUTOCOMPLETE","PLACEHOLDER","AUTOCOMPLETE_FIELD_NAME","containerRef","createRef","handleDynamicFormFieldChange","syncNonFormikValue","handleAutocompleteChange","handleAutocompleteSelect","place","autocompleteValue","setFieldValue","address","forIn","formFields","dateFormFieldNames","filter","custom","fieldType","DynamicFormFieldType","componentDidMount","current","querySelector","countriesWithAutocomplete","googleMapsApiKey","onAutocompleteToggle","shouldShowSaveAddress","Fieldset","ref","addressFieldName","translatedPlaceholderId","DynamicFormField","autocomplete","extraClass","inputId","getPlaceholderValue","CheckboxFormField","language","default","translate","Component","withLanguage","AddressForm","selectedAddress","useState","ariaExpanded","setAriaExpanded","href","onClick","preventDefault","StaticAddress","handleSelectAddress","newAddress","onSelectAddress","isEqualAddress","handleUseNewAddress","onUseNewAddress","addresses","DropdownTrigger","dropdown","AddressSelectMenu","AddressSelect","isEqual","normalizeAddress","isSameState","omit","customFields","isValidCustomerAddress","some","customerAddress","mapAddressFromFormValues","formValues","shouldSaveAddress","mapCustomFormFieldsFromFormValues","customFieldsObject","fieldValue","isDate","padMonth","padStart","getMonth","toString","padDay","getDate","getFullYear","fieldId","renderLabel","hidden","maxLength","legend","getPreselectedPayment","checkout","payments","payment","providerId","getShippableItemsCount","cart","lineItems","physicalItems","addedByPromotion","shouldShow","handleClick","event","handleClose","nativeEvent","handleOpen","addEventListener","removeEventListener","componentWillUnmount","placement","Manager","Reference","Popper","modifiers","hide","enabled","flip","preventOverflow","style","width","zIndex","defaultProps","additionalClassName","disabled","renderField","checked","errorId","kebabCase","forwardRef","rest","createInjectHoc","LocaleContext","displayNamePrefix","pickProps","Input","date","options","inputFormat","handleDateChange","dateValue","target","optionValue","CheckboxInput","Array","isArray","includes","calendarClassName","dateFormat","maxDate","max","Date","minDate","min","placeholderText","toUpperCase","popperClassName","selected","TextArea","TextInput","onSelectedAll","onSelectedNone","handleSelectAllClick","handleSelectNoneClick","MultiCheckboxFormField","form","values","errors","remove","handleSelectAll","checkedValues","getIn","difference","forEach","val","handleSelectNone","handleInputChange","FormFieldContainer","hasError","FormFieldError","renderProps","pick","FieldArray","secret","fieldLabel","required","fieldInputId","labelComponent","dynamicFormFieldType","helperLabel","rows"],"sourceRoot":""}